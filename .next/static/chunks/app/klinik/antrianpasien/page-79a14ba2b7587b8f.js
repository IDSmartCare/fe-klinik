(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2213],{86631:function(e,t,a){Promise.resolve().then(a.bind(a,51612))},92022:function(e,t,a){"use strict";var n=a(57437),s=a(33514),o=a(54175),i=a(13541),r=a(2265);let l=(e,t,a,n)=>{let s=(0,i.O4)(e.getValue(t),a);return n({itemRank:s}),s.passed};function c(e){let{value:t,onChange:a,debounce:s=500,...o}=e,[i,l]=(0,r.useState)(t);return(0,r.useEffect)(()=>{l(t)},[t]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{a(i)},s);return()=>clearTimeout(e)},[i,s,a]),(0,n.jsx)("input",{...o,value:i,onChange:e=>l(e.target.value)})}t.default=function(e){let{rowsData:t,columnsData:a}=e,[i,d]=(0,r.useState)(""),u=(0,r.useMemo)(()=>a,[a]),g=(0,s.b7)({data:t||[],columns:u,state:{globalFilter:i},onGlobalFilterChange:d,globalFilterFn:l,getCoreRowModel:(0,o.sC)(),getFilteredRowModel:(0,o.vL)(),getSortedRowModel:(0,o.tj)(),getPaginationRowModel:(0,o.G_)(),getFacetedRowModel:(0,o.o6)(),getFacetedUniqueValues:(0,o.JG)()});return(0,n.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[(0,n.jsx)(c,{value:null!=i?i:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>d(String(e)),placeholder:"Cari dari total ".concat(g.getPrePaginationRowModel().rows.length," data")}),(0,n.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,n.jsx)("thead",{children:g.getHeaderGroups().map(e=>(0,n.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,n.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,n.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,s.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id))}),(0,n.jsx)("tbody",{children:g.getRowModel().rows.map(e=>(0,n.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,n.jsx)("td",{children:(0,s.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"join",children:[(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(0),disabled:!g.getCanPreviousPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.previousPage(),disabled:!g.getCanPreviousPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(g.getState().pagination.pageIndex+1," of ").concat(g.getPageCount())}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.nextPage(),disabled:!g.getCanNextPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(g.getPageCount()-1),disabled:!g.getCanNextPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("p",{children:" Go to page :"}),(0,n.jsx)("input",{type:"number",defaultValue:g.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;g.setPageIndex(t)},className:"input-xs w-14"})]}),(0,n.jsx)("select",{className:"select select-info select-xs",value:g.getState().pagination.pageSize,onChange:e=>{g.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,n.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},75162:function(e,t,a){"use strict";a.d(t,{o:function(){return o}});var n=a(64379),s=a.n(n);function o(e){let{icon:t,title:a}=e;s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=s().stopTimer,e.onmouseleave=s().resumeTimer}}).fire({icon:t,title:a})}},51612:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(57437),s=a(92022),o=a(65987),i=a(2265),r=a(45040),l=a(75162),c=a(54175),d=a(71968);let u=async e=>{try{if(!(await fetch("".concat("http://localhost:8000","/antrian/pasien/").concat(e),{headers:{Authorization:"Bearer ".concat("testing")}})).ok)throw Error("Failed to fetch data from API");(0,l.o)({icon:"success",title:"Berhasil memanggil antrian"})}catch(e){console.error("Error calling API:",e)}},g=(0,c.Cl)(),h=[g.accessor(e=>e.antrian.nomor,{cell:e=>e.getValue(),header:"Nomor Antrian Admisi"}),g.accessor(e=>e.episodePendaftaran.pasien.noRm,{cell:e=>e.getValue(),header:"Nomor Rekam Medis"}),g.accessor(e=>e.episodePendaftaran.pasien.namaPasien,{cell:e=>e.getValue(),header:"Nama"}),g.accessor(e=>e.createdAt,{cell:e=>(0,d.WU)(e.getValue(),"dd/MM/yyyy"),header:"Tanggal Registrasi"}),g.accessor(e=>e.createdAt,{cell:e=>(0,d.WU)(e.getValue(),"HH:mm"),header:"Jam Registrasi"}),g.accessor(e=>e.antrian.updatedAt,{cell:e=>{let t=e.row.original.antrian.updatedAt;return t===e.row.original.antrian.createdAt?"-":(0,d.WU)(new Date(t),"HH:mm")},header:"Terakhir Dipanggil"}),g.accessor(e=>e.antrian.jumlahPanggil,{cell:e=>e.getValue(),header:"Jumlah Panggil"}),g.accessor(e=>e.antrian.id,{cell:e=>(0,n.jsx)("div",{className:"tooltip","data-tip":e.row.original.antrian.jumlahPanggil>=3?"Mencapai Batas":"Panggil Antrian",children:(0,n.jsx)("button",{className:"btn btn-circle btn-outline btn-warning btn-xs",onClick:()=>u(e.getValue().toString()),disabled:e.row.original.antrian.jumlahPanggil>=3,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:(0,n.jsx)("path",{d:"M16.881 4.345A23.112 23.112 0 0 1 8.25 6H7.5a5.25 5.25 0 0 0-.88 10.427 21.593 21.593 0 0 0 1.378 3.94c.464 1.004 1.674 1.32 2.582.796l.657-.379c.88-.508 1.165-1.593.772-2.468a17.116 17.116 0 0 1-.628-1.607c1.918.258 3.76.75 5.5 1.446A21.727 21.727 0 0 0 18 11.25c0-2.414-.393-4.735-1.119-6.905ZM18.26 3.74a23.22 23.22 0 0 1 1.24 7.51 23.22 23.22 0 0 1-1.41 7.992.75.75 0 1 0 1.409.516 24.555 24.555 0 0 0 1.415-6.43 2.992 2.992 0 0 0 .836-2.078c0-.807-.319-1.54-.836-2.078a24.65 24.65 0 0 0-1.415-6.43.75.75 0 1 0-1.409.516c.059.16.116.321.17.483Z"})})})}),header:"Aksi"})];var m=a(30998);let x=(0,r.ZP)("".concat("http://localhost:8000"));var p=()=>{let[e,t]=(0,i.useState)([]),{data:a}=(0,m.useSession)();return(0,i.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("http://localhost:8000","/pasien/listregistrasi/").concat(null==a?void 0:a.user.idFasyankes),{headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok)return(0,l.o)({icon:"error",title:"Gagal Mendapatkan Data"}),[];let n=await e.json();t(n)}catch(e){console.log(e),(0,l.o)({icon:"error",title:"Tidak ada antrian Pasien"}),t([])}};(null==a?void 0:a.user.idFasyankes)&&e()},[null==a?void 0:a.user.idFasyankes]),(0,i.useEffect)(()=>(x.on("dataAntrianPasien",e=>{e&&e.antrian?t(e.antrian):console.error("Received invalid data:",e)}),()=>{x.off("dataAntrianPasien")}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{message:"Antrian pasien hari ini"}),(0,n.jsx)(s.default,{rowsData:e,columnsData:h})]})}},65987:function(e,t,a){"use strict";var n=a(57437);t.Z=e=>{let{message:t}=e;return(0,n.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsx)("span",{children:t})]})}}},function(e){e.O(0,[9461,7363,1968,998,5040,2971,7023,1744],function(){return e(e.s=86631)}),_N_E=e.O()}]);