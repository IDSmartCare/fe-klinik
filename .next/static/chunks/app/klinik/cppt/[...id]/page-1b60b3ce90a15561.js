(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6919],{6036:function(e,t,a){Promise.resolve().then(a.t.bind(a,231,23)),Promise.resolve().then(a.bind(a,5952))},66781:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(22988),n=a(2265),l=a(43139),i=a(17792),r=a(12475),o=a(42897),c=a(80373),u=a(135),d=a(44390),h=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];a(54887),a(92658);var m=(0,n.forwardRef)(function(e,t){var a,m,x,b,p,j,f,v,w,g,N,y,C,k,S,q,P,T,O,A,Z,L,B,E,I,F,M,z,_,J,H,K,W,D,R,G,V,X,Q,U,Y,$,ee,et,ea,es,en,el,ei,er,eo,ec=(m=void 0!==(a=e.defaultOptions)&&a,b=void 0!==(x=e.cacheOptions)&&x,p=e.loadOptions,e.options,j=e.isLoading,f=e.onInputChange,v=e.filterOption,g=(w=(0,u.Z)(e,h)).inputValue,N=(0,n.useRef)(void 0),y=(0,n.useRef)(!1),C=(0,n.useState)(Array.isArray(m)?m:void 0),S=(k=(0,c.Z)(C,2))[0],q=k[1],P=(0,n.useState)(void 0!==g?g:""),O=(T=(0,c.Z)(P,2))[0],A=T[1],Z=(0,n.useState)(!0===m),B=(L=(0,c.Z)(Z,2))[0],E=L[1],I=(0,n.useState)(void 0),M=(F=(0,c.Z)(I,2))[0],z=F[1],_=(0,n.useState)([]),H=(J=(0,c.Z)(_,2))[0],K=J[1],W=(0,n.useState)(!1),R=(D=(0,c.Z)(W,2))[0],G=D[1],V=(0,n.useState)({}),Q=(X=(0,c.Z)(V,2))[0],U=X[1],Y=(0,n.useState)(void 0),ee=($=(0,c.Z)(Y,2))[0],et=$[1],ea=(0,n.useState)(void 0),en=(es=(0,c.Z)(ea,2))[0],el=es[1],b!==en&&(U({}),el(b)),m!==ee&&(q(Array.isArray(m)?m:void 0),et(m)),(0,n.useEffect)(function(){return y.current=!0,function(){y.current=!1}},[]),ei=(0,n.useCallback)(function(e,t){if(!p)return t();var a=p(e,t);a&&"function"==typeof a.then&&a.then(t,function(){return t()})},[p]),(0,n.useEffect)(function(){!0===m&&ei(O,function(e){y.current&&(q(e||[]),E(!!N.current))})},[]),er=(0,n.useCallback)(function(e,t){var a=(0,d.L)(e,t,f);if(!a){N.current=void 0,A(""),z(""),K([]),E(!1),G(!1);return}if(b&&Q[a])A(a),z(a),K(Q[a]),E(!1),G(!1);else{var s=N.current={};A(a),E(!0),G(!M),ei(a,function(e){y&&s===N.current&&(N.current=void 0,E(!1),z(a),K(e||[]),G(!1),U(e?(0,o.Z)((0,o.Z)({},Q),{},(0,r.Z)({},a,e)):Q))})}},[b,ei,M,Q,f]),eo=R?[]:O&&M?H:S||[],(0,o.Z)((0,o.Z)({},w),{},{options:eo,isLoading:B||void 0!==j&&j,onInputChange:er,filterOption:void 0===v?null:v})),eu=(0,i.u)(ec);return n.createElement(l.S,(0,s.Z)({ref:t},eu))})},92682:function(e,t,a){"use strict";a.d(t,{ZP:function(){return r}});var s=a(17792),n=a(22988),l=a(2265),i=a(43139);a(31818),a(54887),a(92658);var r=(0,l.forwardRef)(function(e,t){var a=(0,s.u)(e);return l.createElement(i.S,(0,n.Z)({ref:t},a))})},66893:function(e,t,a){"use strict";a.d(t,{K:function(){return l}});var s=a(64379),n=a.n(s);let l=e=>{let{icon:t,title:a,text:s}=e;n().fire({position:"center",icon:t,title:a,text:s})}},75162:function(e,t,a){"use strict";a.d(t,{o:function(){return l}});var s=a(64379),n=a.n(s);function l(e){let{icon:t,title:a}=e;n().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n().stopTimer,e.onmouseleave=n().resumeTimer}}).fire({icon:t,title:a})}},5952:function(e,t,a){"use strict";a.d(t,{default:function(){return v}});var s=a(57437),n=a(39343),l=a(75162),i=a(2265),r=e=>{let{message:t}=e;return(0,s.jsxs)("div",{role:"alert",className:"alert alert-error",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:t})]})},o=a(66781),c=a(92682),u=a(41317),d=a(16463),h=a(65987),m=a(66893),x=e=>{let{session:t,onSave:a}=e,[n,r]=(0,i.useState)("shortcut"),[o,u]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[b,p]=(0,i.useState)([]),[j,f]=(0,i.useState)(""),[v,w]=(0,i.useState)(null),[g,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/master-subjective/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}u((await e.json()).map(e=>({label:e.question,value:e.id,questionType:e.questionType})))})()},[null==t?void 0:t.user.idFasyankes]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/subjective-answer"),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){p([]);return}p(await e.json())})()},[null==t?void 0:t.user.idFasyankes]);let y=e=>{r(e),"text"===e?f(v||""):"shortcut"===e&&x(g)},C=e=>{e&&x(t=>[...t,{id:d.length+1,question:{...e,type:e.type}}])},k=e=>b.filter(t=>t.questionId===e).map(e=>({label:e.answer,value:e.id})),S=(e,t)=>{x(a=>a.map(a=>a.id===e?{...a,answer:t}:a))};return(0,s.jsx)("dialog",{id:"add-subjective",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-xl h-5/6 relative ",children:[(0,s.jsx)(h.Z,{message:"Subjective"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full py-3 px-3 gap-2 mt-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>y("shortcut"),className:"py-2 w-full transition-all duration-500 rounded-md \n                ".concat("shortcut"===n?"bg-white shadow":""),children:"Shortcut SOAP"}),(0,s.jsx)("button",{type:"button",onClick:()=>y("text"),className:"py-2 px-3 w-full transition-all duration-500 rounded-md \n                ".concat("text"===n?"bg-white shadow":""),children:"Kolom SOAP"})]}),"shortcut"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Pertanyaan"})}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Pertanyaan",options:o,onChange:e=>C(e)})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-3 h-72",children:(0,s.jsxs)("table",{className:"table table-zebra",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"Pertanyaan"}),(0,s.jsx)("th",{children:"Jawaban"}),(0,s.jsx)("th",{children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.question.label}),(0,s.jsx)("td",{children:"text"===e.question.questionType?(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Jawaban",options:k(e.question.value),onChange:t=>S(e.id,t?t.label:null)}):"number"===e.question.questionType?(0,s.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"Jawaban",value:e.answer||"",onChange:t=>S(e.id,t.target.value||null)}):"date"===e.question.questionType?(0,s.jsx)("input",{type:"date",className:"input input-bordered w-full",value:e.answer||"",onChange:t=>S(e.id,t.target.value)}):null}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>x(e=>e.filter((e,a)=>a!==t)),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,s.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.id))})]})})]}),"text"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Subjective"})}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)("textarea",{className:"textarea textarea-bordered h-full w-full",placeholder:"Tambah Subjective",onChange:e=>{f(e.target.value)}})})]})]}),(0,s.jsx)("div",{className:"absolute bottom-16 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-primary w-full text-white",onClick:()=>{let e=document.getElementById("add-subjective");if("text"===n){if(!j.trim()){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Wajib diisi"}),N([]);return}w(j),N([]),a([{question:null,answer:j}]),(0,l.o)({icon:"success",title:"Berhasil menambahkan Subjective"}),e.close()}else if("shortcut"===n){if(d.some(e=>!e.answer)||0===d.length){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Semua pertanyaan harus diisi"}),w(null);return}let t=d.map(e=>({question:e.question.label,answer:e.answer}));w(null),N(d),a(t),(0,l.o)({icon:"success",title:"Berhasil menambahkan Subjective"}),e.close()}},children:"Submit"})}),(0,s.jsx)("form",{method:"dialog",className:"absolute bottom-5 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-error w-full text-white",children:"Tutup"})})]})})},b=e=>{let{session:t,onSave:a}=e,[n,r]=(0,i.useState)("shortcut"),[o,u]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[b,p]=(0,i.useState)([]),[j,f]=(0,i.useState)(""),[v,w]=(0,i.useState)(null),[g,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/master-objective/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}u((await e.json()).map(e=>({label:e.question,value:e.id,questionType:e.questionType})))})()},[null==t?void 0:t.user.idFasyankes]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/objective-answer"),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){p([]);return}p(await e.json())})()},[null==t?void 0:t.user.idFasyankes]);let y=e=>{r(e),"text"===e?f(v||""):"shortcut"===e&&x(g)},C=e=>{e&&x(t=>[...t,{id:d.length+1,question:{...e,type:e.type}}])},k=e=>b.filter(t=>t.questionId===e).map(e=>({label:e.answer,value:e.id})),S=(e,t)=>{x(a=>a.map(a=>a.id===e?{...a,answer:t}:a))};return(0,s.jsx)("dialog",{id:"add-objective",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-xl h-5/6 relative ",children:[(0,s.jsx)(h.Z,{message:"Objective"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full py-3 px-3 gap-2 mt-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>y("shortcut"),className:"py-2 w-full transition-all duration-500 rounded-md \n                ".concat("shortcut"===n?"bg-white shadow":""),children:"Shortcut SOAP"}),(0,s.jsx)("button",{type:"button",onClick:()=>y("text"),className:"py-2 px-3 w-full transition-all duration-500 rounded-md \n                ".concat("text"===n?"bg-white shadow":""),children:"Kolom SOAP"})]}),"shortcut"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Pertanyaan"})}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Pertanyaan",options:o,onChange:e=>C(e)})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-3 h-72",children:(0,s.jsxs)("table",{className:"table table-zebra",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"Pertanyaan"}),(0,s.jsx)("th",{children:"Jawaban"}),(0,s.jsx)("th",{children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.question.label}),(0,s.jsx)("td",{children:"text"===e.question.questionType?(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Jawaban",options:k(e.question.value),onChange:t=>S(e.id,t?t.label:null)}):"number"===e.question.questionType?(0,s.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"Jawaban",value:e.answer||"",onChange:t=>S(e.id,t.target.value||null)}):"date"===e.question.questionType?(0,s.jsx)("input",{type:"date",className:"input input-bordered w-full",value:e.answer||"",onChange:t=>S(e.id,t.target.value)}):null}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>x(e=>e.filter((e,a)=>a!==t)),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,s.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.id))})]})})]}),"text"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Objective"})}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)("textarea",{className:"textarea textarea-bordered h-full w-full",placeholder:"Tambah Objective",onChange:e=>{f(e.target.value)}})})]})]}),(0,s.jsx)("div",{className:"absolute bottom-16 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-primary w-full text-white",onClick:()=>{let e=document.getElementById("add-objective");if("text"===n){if(!j.trim()){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Wajib diisi"}),N([]);return}w(j),N([]),a([{question:null,answer:j}]),(0,l.o)({icon:"success",title:"Berhasil menambahkan Objective"}),e.close()}else if("shortcut"===n){if(d.some(e=>!e.answer)||0===d.length){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Semua pertanyaan harus diisi"}),w(null);return}let t=d.map(e=>({question:e.question.label,answer:e.answer}));w(null),N(d),a(t),(0,l.o)({icon:"success",title:"Berhasil menambahkan Objective"}),e.close()}},children:"Submit"})}),(0,s.jsx)("form",{method:"dialog",className:"absolute bottom-5 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-error w-full text-white",children:"Tutup"})})]})})},p=e=>{let{session:t,onSave:a}=e,[n,r]=(0,i.useState)("shortcut"),[o,u]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[b,p]=(0,i.useState)([]),[j,f]=(0,i.useState)(""),[v,w]=(0,i.useState)(null),[g,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/master-assessment/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}u((await e.json()).map(e=>({label:e.question,value:e.id,questionType:e.questionType})))})()},[null==t?void 0:t.user.idFasyankes]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/assessment-answer"),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){p([]);return}p(await e.json())})()},[null==t?void 0:t.user.idFasyankes]);let y=e=>{r(e),"text"===e?f(v||""):"shortcut"===e&&x(g)},C=e=>{e&&x(t=>[...t,{id:d.length+1,question:{...e,type:e.type}}])},k=e=>b.filter(t=>t.questionId===e).map(e=>({label:e.answer,value:e.id})),S=(e,t)=>{x(a=>a.map(a=>a.id===e?{...a,answer:t}:a))};return(0,s.jsx)("dialog",{id:"add-assessment",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-xl h-5/6 relative ",children:[(0,s.jsx)(h.Z,{message:"Assessment"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full py-3 px-3 gap-2 mt-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>y("shortcut"),className:"py-2 w-full transition-all duration-500 rounded-md \n                ".concat("shortcut"===n?"bg-white shadow":""),children:"Shortcut SOAP"}),(0,s.jsx)("button",{type:"button",onClick:()=>y("text"),className:"py-2 px-3 w-full transition-all duration-500 rounded-md \n                ".concat("text"===n?"bg-white shadow":""),children:"Kolom SOAP"})]}),"shortcut"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Pertanyaan"})}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Pertanyaan",options:o,onChange:e=>C(e)})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-3 h-72",children:(0,s.jsxs)("table",{className:"table table-zebra",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"Pertanyaan"}),(0,s.jsx)("th",{children:"Jawaban"}),(0,s.jsx)("th",{children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.question.label}),(0,s.jsx)("td",{children:"text"===e.question.questionType?(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Jawaban",options:k(e.question.value),onChange:t=>S(e.id,t?t.label:null)}):"number"===e.question.questionType?(0,s.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"Jawaban",value:e.answer||"",onChange:t=>S(e.id,t.target.value||null)}):"date"===e.question.questionType?(0,s.jsx)("input",{type:"date",className:"input input-bordered w-full",value:e.answer||"",onChange:t=>S(e.id,t.target.value)}):null}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>x(e=>e.filter((e,a)=>a!==t)),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,s.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.id))})]})})]}),"text"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Assessment"})}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)("textarea",{className:"textarea textarea-bordered h-full w-full",placeholder:"Tambah Assessment",onChange:e=>{f(e.target.value)}})})]})]}),(0,s.jsx)("div",{className:"absolute bottom-16 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-primary w-full text-white",onClick:()=>{let e=document.getElementById("add-assessment");if("text"===n){if(!j.trim()){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Wajib diisi"}),N([]);return}w(j),N([]),a([{question:null,answer:j}]),(0,l.o)({icon:"success",title:"Berhasil menambahkan Assessment"}),e.close()}else if("shortcut"===n){if(d.some(e=>!e.answer)||0===d.length){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Semua pertanyaan harus diisi"}),w(null);return}let t=d.map(e=>({question:e.question.label,answer:e.answer}));w(null),N(d),a(t),(0,l.o)({icon:"success",title:"Berhasil menambahkan Assessment"}),e.close()}},children:"Submit"})}),(0,s.jsx)("form",{method:"dialog",className:"absolute bottom-5 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-error w-full text-white",children:"Tutup"})})]})})},j=e=>{let{session:t,onSave:a}=e,[n,r]=(0,i.useState)("shortcut"),[o,u]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[b,p]=(0,i.useState)([]),[j,f]=(0,i.useState)(""),[v,w]=(0,i.useState)(null),[g,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/master-plan/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}u((await e.json()).map(e=>({label:e.question,value:e.id,questionType:e.questionType})))})()},[null==t?void 0:t.user.idFasyankes]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/plan-answer"),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){p([]);return}p(await e.json())})()},[null==t?void 0:t.user.idFasyankes]);let y=e=>{r(e),"text"===e?f(v||""):"shortcut"===e&&x(g)},C=e=>{e&&x(t=>[...t,{id:d.length+1,question:{...e,type:e.type}}])},k=e=>b.filter(t=>t.questionId===e).map(e=>({label:e.answer,value:e.id})),S=(e,t)=>{x(a=>a.map(a=>a.id===e?{...a,answer:t}:a))};return(0,s.jsx)("dialog",{id:"add-plan",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-xl h-5/6 relative ",children:[(0,s.jsx)(h.Z,{message:"Plan"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full py-3 px-3 gap-2 mt-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>y("shortcut"),className:"py-2 w-full transition-all duration-500 rounded-md \n                ".concat("shortcut"===n?"bg-white shadow":""),children:"Shortcut SOAP"}),(0,s.jsx)("button",{type:"button",onClick:()=>y("text"),className:"py-2 px-3 w-full transition-all duration-500 rounded-md \n                ".concat("text"===n?"bg-white shadow":""),children:"Kolom SOAP"})]}),"shortcut"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Pertanyaan"})}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Pertanyaan",options:o,onChange:e=>C(e)})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-3 h-72",children:(0,s.jsxs)("table",{className:"table table-zebra",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"Pertanyaan"}),(0,s.jsx)("th",{children:"Jawaban"}),(0,s.jsx)("th",{children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.question.label}),(0,s.jsx)("td",{children:"text"===e.question.questionType?(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Jawaban",options:k(e.question.value),onChange:t=>S(e.id,t?t.label:null)}):"number"===e.question.questionType?(0,s.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"Jawaban",value:e.answer||"",onChange:t=>S(e.id,t.target.value||null)}):"date"===e.question.questionType?(0,s.jsx)("input",{type:"date",className:"input input-bordered w-full",value:e.answer||"",onChange:t=>S(e.id,t.target.value)}):null}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>x(e=>e.filter((e,a)=>a!==t)),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,s.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.id))})]})})]}),"text"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Plan"})}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)("textarea",{className:"textarea textarea-bordered h-full w-full",placeholder:"Tambah Plan",onChange:e=>{f(e.target.value)}})})]})]}),(0,s.jsx)("div",{className:"absolute bottom-16 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-primary w-full text-white",onClick:()=>{let e=document.getElementById("add-plan");if("text"===n){if(!j.trim()){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Wajib diisi"}),N([]);return}w(j),N([]),a([{question:null,answer:j}]),(0,l.o)({icon:"success",title:"Berhasil menambahkan Plan"}),e.close()}else if("shortcut"===n){if(d.some(e=>!e.answer)||0===d.length){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Semua pertanyaan harus diisi"}),w(null);return}let t=d.map(e=>({question:e.question.label,answer:e.answer}));w(null),N(d),a(t),(0,l.o)({icon:"success",title:"Berhasil menambahkan Plan"}),e.close()}},children:"Submit"})}),(0,s.jsx)("form",{method:"dialog",className:"absolute bottom-5 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-error w-full text-white",children:"Tutup"})})]})})},f=e=>{let{session:t,onSave:a}=e,[n,r]=(0,i.useState)("shortcut"),[o,u]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[b,p]=(0,i.useState)([]),[j,f]=(0,i.useState)(""),[v,w]=(0,i.useState)(null),[g,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/master-instruction/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}u((await e.json()).map(e=>({label:e.question,value:e.id,questionType:e.questionType})))})()},[null==t?void 0:t.user.idFasyankes]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://localhost:8000","/instruction-answer"),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){p([]);return}p(await e.json())})()},[null==t?void 0:t.user.idFasyankes]);let y=e=>{r(e),"text"===e?f(v||""):"shortcut"===e&&x(g)},C=e=>{e&&x(t=>[...t,{id:d.length+1,question:{...e,type:e.type}}])},k=e=>b.filter(t=>t.questionId===e).map(e=>({label:e.answer,value:e.id})),S=(e,t)=>{x(a=>a.map(a=>a.id===e?{...a,answer:t}:a))};return(0,s.jsx)("dialog",{id:"add-instruction",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-xl h-5/6 relative ",children:[(0,s.jsx)(h.Z,{message:"Instruction"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex bg-gray-200 rounded-md w-full py-3 px-3 gap-2 mt-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>y("shortcut"),className:"py-2 w-full transition-all duration-500 rounded-md \n                ".concat("shortcut"===n?"bg-white shadow":""),children:"Shortcut SOAP"}),(0,s.jsx)("button",{type:"button",onClick:()=>y("text"),className:"py-2 px-3 w-full transition-all duration-500 rounded-md \n                ".concat("text"===n?"bg-white shadow":""),children:"Kolom SOAP"})]}),"shortcut"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Pertanyaan"})}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Pertanyaan",options:o,onChange:e=>C(e)})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-3 h-72",children:(0,s.jsxs)("table",{className:"table table-zebra",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"Pertanyaan"}),(0,s.jsx)("th",{children:"Jawaban"}),(0,s.jsx)("th",{children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.question.label}),(0,s.jsx)("td",{children:"text"===e.question.questionType?(0,s.jsx)(c.ZP,{className:"w-full",isClearable:!0,placeholder:"Pilih Jawaban",options:k(e.question.value),onChange:t=>S(e.id,t?t.label:null)}):"number"===e.question.questionType?(0,s.jsx)("input",{type:"text",className:"input input-bordered w-full",placeholder:"Jawaban",value:e.answer||"",onChange:t=>S(e.id,t.target.value||null)}):"date"===e.question.questionType?(0,s.jsx)("input",{type:"date",className:"input input-bordered w-full",value:e.answer||"",onChange:t=>S(e.id,t.target.value)}):null}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>x(e=>e.filter((e,a)=>a!==t)),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,s.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.id))})]})})]}),"text"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tambah Instruction"})}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)("textarea",{className:"textarea textarea-bordered h-full w-full",placeholder:"Tambah Instruction",onChange:e=>{f(e.target.value)}})})]})]}),(0,s.jsx)("div",{className:"absolute bottom-16 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-primary w-full text-white",onClick:()=>{let e=document.getElementById("add-instruction");if("text"===n){if(!j.trim()){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Wajib diisi"}),N([]);return}w(j),N([]),a([{question:null,answer:j}]),(0,l.o)({icon:"success",title:"Berhasil menambahkan Instruction"}),e.close()}else if("shortcut"===n){if(d.some(e=>!e.answer)||0===d.length){e.close(),(0,m.K)({icon:"error",title:"Ooops",text:"Semua pertanyaan harus diisi"}),w(null);return}let t=d.map(e=>({question:e.question.label,answer:e.answer}));w(null),N(d),a(t),(0,l.o)({icon:"success",title:"Berhasil menambahkan Instruction"}),e.close()}},children:"Submit"})}),(0,s.jsx)("form",{method:"dialog",className:"absolute bottom-5 w-10/12 md:w-11/12",children:(0,s.jsx)("button",{className:"btn btn-sm btn-error w-full text-white",children:"Tutup"})})]})})},v=e=>{let{idregis:t,session:a}=e,h=(0,i.useId)(),{register:m,handleSubmit:v,formState:{errors:w},reset:g}=(0,n.cI)(),[N,y]=(0,i.useState)([]),[C,k]=(0,i.useState)({}),[S,q]=(0,i.useState)({}),[P,T]=(0,i.useState)(""),[O,A]=(0,i.useState)(""),[Z,L]=(0,i.useState)(""),[B,E]=(0,i.useState)(""),[I,F]=(0,i.useState)(""),[M,z]=(0,i.useState)(""),[_,J]=(0,i.useState)(null),H=(0,d.useRouter)(),[K,W]=(0,i.useState)([]),[D,R]=(0,i.useState)([]),[G,V]=(0,i.useState)([]),[X,Q]=(0,i.useState)([]),[U,Y]=(0,i.useState)([]),[$,ee]=(0,i.useState)([]),[et,ea]=(0,i.useState)([]),[es,en]=(0,i.useState)({subjective:!1,objective:!1,assessment:!1,plan:!1,instruction:!1});(0,i.useEffect)(()=>{!async function(){let e=await fetch("".concat("http://localhost:8000","/master-tarif/layanan/").concat(null==a?void 0:a.user.idFasyankes,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("testing")}});if(!e.ok){ee([]);return}let s=await e.json();console.log("layanan",s),ee(null==s?void 0:s.map(e=>({label:e.namaTarif,value:e.id})))}()},[null==a?void 0:a.user.idFasyankes,t]);let el=async e=>{var s;let n={subjective:0===K.length,objective:0===D.length,assessment:0===G.length,plan:0===X.length,instruction:0===U.length};if(en(n),Object.values(n).some(e=>e))return;let i=null===(s=S.namaDiagnosa)||void 0===s?void 0:s.split("-"),r={...e,pendaftaranId:Number(t),profesi:null==a?void 0:a.user.role,profileId:Number(null==a?void 0:a.user.idProfile),isDokter:(null==a?void 0:a.user.role)==="dokter",isVerifDokter:(null==a?void 0:a.user.role)==="dokter",jamVerifDokter:(null==a?void 0:a.user.role)==="dokter"?new Date:null,resep:N,kodeDiagnosa:S.kodeDiagnosa,namaDiagnosa:null==i?void 0:i[1],idFasyankes:null==a?void 0:a.user.idFasyankes,subjective:K,objective:D,assessment:G,plan:X,instruction:U,layanan:et};try{let e=await fetch("/api/cppt/add",{method:"POST",body:JSON.stringify(r)}),t=await e.json();if(!e.ok){(0,l.o)({icon:"error",title:t.message});return}(0,l.o)({icon:"success",title:"Berhasil!"}),g(),H.refresh()}catch(e){console.log(e),(0,l.o)({icon:"error",title:e.message})}y([])},ei=()=>{y([{namaObat:C.namaObat,obatId:C.obatId,jumlah:P,signa1:O,signa2:Z,aturanPakai:B,waktu:I,catatan:M,satuan:C.satuan,harga_jual:C.harga_jual,stok:C.stok},...N]),T(""),A(""),L(""),E(""),F(""),z(""),k({}),J(null)},er=e=>{y([...N.filter((t,a)=>a!=e)])},eo=async e=>{try{if(e.length>=1)return(await (0,u.P)({url:"icdx?search=".concat(e)})).data.data.map(e=>({value:e.code,label:"".concat(e.code,"-").concat(e.en_name)}));return(await (0,u.P)({url:"icdx"})).data.data.map(e=>({value:e.code,label:"".concat(e.code,"-").concat(e.en_name)}))}catch(e){(0,l.o)({icon:"error",title:"Gagal ambil data ke server BO!"})}},ec=async e=>e.length>=2?(await (0,u.P)({url:"master-barang?wfid=".concat(null==a?void 0:a.user.wfid,"&search=").concat(e)})).data.data.map(e=>({value:e.barang_id,label:"".concat(e.barang.nama_barang," (").concat(e.barang.satuan,")"),satuan:e.barang.satuan,harga_jual:e.barang.harga_jual,stok:e.stok})):(await (0,u.P)({url:"master-barang?wfid=".concat(null==a?void 0:a.user.wfid)})).data.data.map(e=>({value:e.barang_id,label:"".concat(e.barang.nama_barang," (").concat(e.barang.satuan,")"),satuan:e.barang.satuan,harga_jual:e.barang.harga_jual,stok:e.stok})),eu=e=>{J(e),e&&k({namaObat:e.label,obatId:e.value,satuan:e.satuan,harga_jual:e.harga_jual,stok:e.stok})},ed=e=>{e&&q({kodeDiagnosa:e.value,namaDiagnosa:e.label})},eh=e=>{var t;(null===(t=document)||void 0===t?void 0:t.getElementById(e)).showModal()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{session:a,onSave:e=>W(e)}),(0,s.jsx)(b,{session:a,onSave:e=>R(e)}),(0,s.jsx)(p,{session:a,onSave:e=>V(e)}),(0,s.jsx)(j,{session:a,onSave:e=>Q(e)}),(0,s.jsx)(f,{session:a,onSave:e=>Y(e)}),(0,s.jsxs)("form",{onSubmit:v(el),className:"flex items-center flex-col gap-2",children:[((null==a?void 0:a.user.role)==="dokter"||(null==a?void 0:a.user.role)==="perawat")&&(0,s.jsxs)("div",{className:"join gap-[90px]",children:[(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Subjective"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-md btn-primary",onClick:()=>{eh("add-subjective")},children:"Submit Subjective"}),es.subjective&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"*Wajib diisi"})]}),(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Objective"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-md btn-primary",onClick:()=>{eh("add-objective")},children:"Submit Objective"}),es.objective&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"*Wajib diisi"})]}),(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Assessment"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-md btn-primary",onClick:()=>{eh("add-assessment")},children:"Submit Assessment"}),es.assessment&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"*Wajib diisi"})]}),(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Plan"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-md btn-primary",onClick:()=>{eh("add-plan")},children:"Submit Plan"}),es.plan&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"*Wajib diisi"})]}),(0,s.jsxs)("div",{className:"form-control",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Instruction"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-md btn-primary",onClick:()=>{eh("add-instruction")},children:"Submit Instruction"}),es.instruction&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"*Wajib diisi"})]})]}),(null==a?void 0:a.user.role)==="dokter"&&(0,s.jsxs)("div",{className:"flex flex-col w-full items-center gap-2 p-3",children:[(0,s.jsxs)("div",{className:"form-control w-full px-6 mb-6",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Kode Diagnosa"})}),(0,s.jsx)(o.Z,{className:"select-info w-full",isClearable:!0,name:"icdx",loadOptions:e=>new Promise(t=>{t(eo(e))}),defaultOptions:!0,onChange:e=>ed(e),placeholder:"Cari Diagnosa",instanceId:h})]}),(0,s.jsxs)("div",{className:"form-control w-full px-6 mb-6",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Layanan (Opsional)"})}),(0,s.jsx)(c.ZP,{className:"select-info w-full",isClearable:!0,name:"layanan",isMulti:!0,options:$,placeholder:"Cari Layanan",instanceId:h,onChange:e=>{ea((null==e?void 0:e.map(e=>({label:e.label})))||[])}})]}),(0,s.jsxs)("div",{className:"flex w-full p-3 gap-2",children:[(0,s.jsxs)("div",{className:"form-control w-1/2 border-2 p-2",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text text-lg font-bold ",children:"Resep"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(o.Z,{className:"select-info w-full",isClearable:!0,name:"obat",loadOptions:e=>new Promise(t=>{t(ec(e))}),defaultOptions:!0,onChange:e=>eu(e),placeholder:"Cari obat",instanceId:h,value:_}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"number",onChange:e=>T(e.target.value),value:P,placeholder:"Jumlah",className:"input input-sm input-primary w-1/3"}),(0,s.jsx)("input",{type:"text",onChange:e=>A(e.target.value),value:O,placeholder:"Signa 1",className:"input input-sm input-primary w-1/3"}),"X",(0,s.jsx)("input",{type:"text",onChange:e=>L(e.target.value),value:Z,placeholder:"Signa 2",className:"input input-sm input-primary w-1/3"})]}),(0,s.jsxs)("select",{className:"select select-primary w-full select-sm",onChange:e=>E(e.target.value),value:B,children:[(0,s.jsx)("option",{value:"",children:"Silahkan Pilih"}),(0,s.jsx)("option",{value:"Sebelum Makan",children:"Sebelum Makan"}),(0,s.jsx)("option",{value:"Sesudah Makan",children:"Sesudah Makan"})]}),(0,s.jsxs)("select",{className:"select select-primary w-full select-sm",onChange:e=>F(e.target.value),value:I,children:[(0,s.jsx)("option",{value:"",children:"Silahkan Pilih"}),(0,s.jsx)("option",{value:"Pagi",children:"Pagi"}),(0,s.jsx)("option",{value:"Siang",children:"Siang"}),(0,s.jsx)("option",{value:"Malam",children:"Malam"})]}),(0,s.jsx)("textarea",{onChange:e=>z(e.target.value),placeholder:"Catatan",className:"textarea textarea-primary",value:M}),(0,s.jsx)("button",{onClick:()=>ei(),className:"btn btn-sm btn-warning",type:"button",disabled:""===B||""===I||0===Object.keys(C).length,children:"Tambah"})]})]}),(0,s.jsxs)("div",{className:"w-1/2 flex flex-col gap-2 border-2 p-2",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text font-bold text-lg",children:"List Resep"})}),N.map((e,t)=>(0,s.jsxs)("div",{className:"bg-base-300 p-2 rounded flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"italic flex flex-col",children:[(0,s.jsx)("p",{className:"font-medium",children:"R/"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.namaObat," (",e.signa1,"X",e.signa2,")"]}),(0,s.jsx)("p",{children:e.aturanPakai}),(0,s.jsx)("p",{children:e.waktu}),(0,s.jsx)("p",{children:e.catatan})]}),(0,s.jsx)("button",{type:"button",onClick:()=>er(t),className:"btn btn-error btn-circle btn-sm",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z",clipRule:"evenodd"})})})]},e.obatId))]})]})]}),(null==a?void 0:a.user.role)==="dokter"||(null==a?void 0:a.user.role)==="perawat"?(0,s.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary btn-block mt-5 ",children:"Submit"}):(0,s.jsx)(r,{message:"Anda bukan perawat / dokter!"})]})]})}},65987:function(e,t,a){"use strict";var s=a(57437);t.Z=e=>{let{message:t}=e;return(0,s.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:t})]})}},41317:function(e,t,a){"use strict";a.d(t,{P:function(){return s},n:function(){return n}});let s=async e=>{let{url:t}=e;try{let e=await fetch("".concat("http://localhost:8001/api","/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat("IDsM4RtcaR32024*@>")}});if(!e.ok)return console.error("Error: ".concat(e.status," - ").concat(e.statusText)),null;return await e.json()}catch(e){return console.error("Failed to fetch data:",e),null}},n=async e=>{let{url:t,data:a}=e;try{let e=await fetch("".concat("http://localhost:8001/api","/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat("IDsM4RtcaR32024*@>")},method:"POST",body:JSON.stringify(a)});return await e.json()}catch(e){return null}}}},function(e){e.O(0,[9461,231,9343,5151,2971,7023,1744],function(){return e(e.s=6036)}),_N_E=e.O()}]);