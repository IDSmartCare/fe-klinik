(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3734],{86495:function(e,t,n){Promise.resolve().then(n.bind(n,2520))},87138:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var i=n(231),r=n.n(i)},16463:function(e,t,n){"use strict";var i=n(71169);n.o(i,"useRouter")&&n.d(t,{useRouter:function(){return i.useRouter}})},76789:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n(57437),r=n(54887);function o(){let{pending:e}=(0,r.useFormStatus)();return(0,i.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary btn-block",disabled:e,children:"Submit"})}},75162:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var i=n(64379),r=n.n(i);function o(e){let{icon:t,title:n}=e;r().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=r().stopTimer,e.onmouseleave=r().resumeTimer}}).fire({icon:t,title:n})}},2520:function(e,t,n){"use strict";var i=n(57437);n(2265);var r=n(39343),o=n(75162),s=n(65987),a=n(87138),l=n(76789),u=n(16463);t.default=e=>{var t,n,c;let{data:d,session:m}=e,{register:p,handleSubmit:f,formState:{errors:v},reset:h}=(0,r.cI)(),x=(0,u.useRouter)(),b=async e=>{try{let t=new FormData;t.append("id",d.id),t.append("idFasyankes",(null==m?void 0:m.user.idFasyankes)||""),t.append("namaPoli",e.namaPoli),t.append("namaFasyankes",(null==m?void 0:m.user.nameFasyankes)||""),e.voiceFile&&e.voiceFile[0]&&t.append("file",e.voiceFile[0]);let n=await fetch("/api/mastervoice/edit",{method:"PATCH",body:t});if(!n.ok){let e=await n.text();(0,o.o)({icon:"error",title:e});return}await n.json(),(0,o.o)({icon:"success",title:"Berhasil"}),setTimeout(()=>{x.back()},2e3),setTimeout(()=>{window.location.reload()},2100)}catch(e){console.error(e),(0,o.o)({icon:"error",title:e instanceof Error?e.message:"An unexpected error occurred."})}};return(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,i.jsx)(s.Z,{message:"Edit Voice"}),(0,i.jsxs)("form",{onSubmit:f(b),className:"flex flex-col gap-2 mt-10 w-full md:w-4/12 border-gray-300 border-2 rounded-lg p-5  md:p-8",children:[(0,i.jsx)("input",{type:"text",placeholder:"Nama Poliklinik",defaultValue:null==d?void 0:d.namaPoli,...p("namaPoli",{required:"Tidak boleh kosong!"}),className:"input input-md input-bordered input-primary w-full"}),(0,i.jsx)("span",{className:"label-text-alt text-error",children:v.namaPoli&&(0,i.jsx)("span",{children:null===(t=v.namaPoli.message)||void 0===t?void 0:t.toString()})}),(0,i.jsx)("div",{className:"input input-md input-bordered input-primary w-full flex items-center overflow-hidden",children:(0,i.jsx)("input",{type:"file",accept:".mp3,.wav",...p("voiceFile",{required:"Tidak boleh kosong!"})})}),(0,i.jsx)("span",{className:"label-text-alt text-error",children:v.voiceFile&&(0,i.jsx)("span",{children:null===(c=v.voiceFile)||void 0===c?void 0:null===(n=c.message)||void 0===n?void 0:n.toString()})}),(0,i.jsx)(a.default,{href:"https://micmonster.com/",target:"_blank",className:"text-primary text-sm mb-2 ",children:"*Klik disini untuk membuat voice"}),(null==m?void 0:m.user.role)!=="tester"&&(0,i.jsx)(l.v,{}),(0,i.jsx)("button",{type:"button",className:"btn btn-sm btn-error text-white",onClick:()=>x.back(),children:"Kembali"})]})]})}},65987:function(e,t,n){"use strict";var i=n(57437);t.Z=e=>{let{message:t}=e;return(0,i.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,i.jsx)("span",{children:t})]})}}},function(e){e.O(0,[9461,231,9343,2971,7023,1744],function(){return e(e.s=86495)}),_N_E=e.O()}]);