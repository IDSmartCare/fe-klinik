(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3173],{4636:function(e,t,n){Promise.resolve().then(n.bind(n,92022)),Promise.resolve().then(n.bind(n,96859)),Promise.resolve().then(n.bind(n,72664))},87138:function(e,t,n){"use strict";n.d(t,{default:function(){return l.a}});var a=n(231),l=n.n(a)},16463:function(e,t,n){"use strict";var a=n(71169);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},49453:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var a,l,s=n(57437);(a=l||(l={})).add="add",a.info="info",t.Z=e=>{let{modalname:t,title:n,icon:a}=e,l=()=>{document.getElementById(t).showModal()};return(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:()=>l(),className:"btn btn-xs btn-primary",children:["add"===a?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z",clipRule:"evenodd"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,s.jsx)("path",{d:"M4.038 4.038a5.25 5.25 0 0 0 0 7.424.75.75 0 0 1-1.06 1.061A6.75 6.75 0 1 1 14.5 7.75a.75.75 0 1 1-1.5 0 5.25 5.25 0 0 0-8.962-3.712Z"}),(0,s.jsx)("path",{d:"M7.712 7.136a.75.75 0 0 1 .814.302l2.984 4.377a.75.75 0 0 1-.726 1.164l-.76-.109.289 1.075a.75.75 0 0 1-1.45.388l-.287-1.075-.602.474a.75.75 0 0 1-1.212-.645l.396-5.283a.75.75 0 0 1 .554-.668Z"}),(0,s.jsx)("path",{d:"M5.805 9.695A2.75 2.75 0 1 1 10.5 7.75a.75.75 0 0 0 1.5 0 4.25 4.25 0 1 0-7.255 3.005.75.75 0 1 0 1.06-1.06Z"})]}),n]})})}},76789:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var a=n(57437),l=n(54887);function s(){let{pending:e}=(0,l.useFormStatus)();return(0,a.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary btn-block",disabled:e,children:"Submit"})}},92022:function(e,t,n){"use strict";var a=n(57437),l=n(33514),s=n(54175),i=n(13541),o=n(2265);let r=(e,t,n,a)=>{let l=(0,i.O4)(e.getValue(t),n);return a({itemRank:l}),l.passed};function c(e){let{value:t,onChange:n,debounce:l=500,...s}=e,[i,r]=(0,o.useState)(t);return(0,o.useEffect)(()=>{r(t)},[t]),(0,o.useEffect)(()=>{let e=setTimeout(()=>{n(i)},l);return()=>clearTimeout(e)},[i,l,n]),(0,a.jsx)("input",{...s,value:i,onChange:e=>r(e.target.value)})}t.default=function(e){let{rowsData:t,columnsData:n}=e,[i,d]=(0,o.useState)(""),u=(0,o.useMemo)(()=>n,[n]),m=(0,l.b7)({data:t||[],columns:u,state:{globalFilter:i},onGlobalFilterChange:d,globalFilterFn:r,getCoreRowModel:(0,s.sC)(),getFilteredRowModel:(0,s.vL)(),getSortedRowModel:(0,s.tj)(),getPaginationRowModel:(0,s.G_)(),getFacetedRowModel:(0,s.o6)(),getFacetedUniqueValues:(0,s.JG)()});return(0,a.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[(0,a.jsx)(c,{value:null!=i?i:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>d(String(e)),placeholder:"Cari dari total ".concat(m.getPrePaginationRowModel().rows.length," data")}),(0,a.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,a.jsx)("thead",{children:m.getHeaderGroups().map(e=>(0,a.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,a.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,a.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,l.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id))}),(0,a.jsx)("tbody",{children:m.getRowModel().rows.map(e=>(0,a.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,a.jsx)("td",{children:(0,l.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"join",children:[(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(m.getState().pagination.pageIndex+1," of ").concat(m.getPageCount())}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("p",{children:" Go to page :"}),(0,a.jsx)("input",{type:"number",defaultValue:m.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;m.setPageIndex(t)},className:"input-xs w-14"})]}),(0,a.jsx)("select",{className:"select select-info select-xs",value:m.getState().pagination.pageSize,onChange:e=>{m.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,a.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},75162:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var a=n(64379),l=n.n(a);function s(e){let{icon:t,title:n}=e;l().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=l().stopTimer,e.onmouseleave=l().resumeTimer}}).fire({icon:t,title:n})}},72664:function(e,t,n){"use strict";var a=n(57437),l=n(54175),s=n(87138);let i=(0,l.Cl)(),o=[i.accessor(e=>e.namaFile,{cell:e=>e.getValue(),header:"Nama File"}),i.accessor(e=>e.namaPoli,{cell:e=>e.getValue(),header:"Nama Poli"}),i.accessor(e=>e.id,{cell:e=>{let t=null!=e.row.original.idFasyankes;return(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsx)("div",{className:"tooltip","data-tip":"Putar Voice",children:(0,a.jsx)(s.default,{className:"btn btn-outline btn-primary btn-circle btn-xs",href:e.row.original.url,target:"_blank",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z","clip-rule":"evenodd"})})})}),t&&(0,a.jsx)("div",{className:"tooltip","data-tip":"Edit Voice",children:(0,a.jsx)(s.default,{className:"btn btn-circle btn-outline btn-success btn-xs",href:"/klinik/setting/mastervoice/edit/".concat(e.getValue()),children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,a.jsx)("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"}),(0,a.jsx)("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"})]})})})]})},header:"Aksi"})];t.default=o},96859:function(e,t,n){"use strict";var a=n(57437),l=n(75162),s=n(76789),i=n(16463),o=n(39343),r=n(49453),c=n(87138);t.default=e=>{var t,n,d;let{session:u}=e,{register:m,handleSubmit:x,formState:{errors:h},reset:g}=(0,o.cI)(),p=(0,i.useRouter)(),v=async e=>{let t=new FormData;t.append("namaPoli",e.namaPoli),t.append("file",e.voiceFile[0]),t.append("idFasyankes",null==u?void 0:u.user.idFasyankes),t.append("namaFasyankes",null==u?void 0:u.user.nameFasyankes),console.log(t);try{if(!(await fetch("/api/mastervoice/add",{method:"POST",body:t})).ok){(0,l.o)({icon:"error",title:"Gagal"});return}(0,l.o)({icon:"success",title:"Berhasil!"});let e=document.getElementById("add-voice");null==e||e.close(),g(),p.refresh()}catch(e){console.log(e),(0,l.o)({icon:"error",title:e.message})}};return(0,a.jsxs)("div",{className:"self-end",children:[(0,a.jsx)(r.Z,{icon:r.q.add,modalname:"add-voice",title:"Voice Baru"}),(0,a.jsx)("dialog",{id:"add-voice",className:"modal",children:(0,a.jsxs)("div",{className:"modal-box w-8/12 md:w-3/12 max-w-md",children:[(0,a.jsx)("form",{method:"dialog",children:(0,a.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"})}),(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Tambah Voice untuk Poli baru"}),(0,a.jsxs)("form",{onSubmit:x(v),className:"flex flex-col gap-2 mt-5",children:[(0,a.jsx)("input",{type:"text",placeholder:"Nama Poliklinik",...m("namaPoli",{required:"Tidak boleh kosong!"}),className:"input input-md input-bordered input-primary w-full"}),(0,a.jsxs)("span",{className:"label-text-alt text-error",children:[" ",h.namaPoli&&(0,a.jsx)("span",{children:null===(t=h.namaPoli.message)||void 0===t?void 0:t.toString()})]}),(0,a.jsx)("div",{className:"input input-md input-bordered input-primary w-full flex items-center overflow-hidden",children:(0,a.jsx)("input",{type:"file",accept:".mp3,.wav",...m("voiceFile",{required:"Tidak boleh kosong!"})})}),(0,a.jsxs)("span",{className:"label-text-alt text-error",children:[" ",h.voiceFile&&(0,a.jsx)("span",{children:null===(d=h.voiceFile)||void 0===d?void 0:null===(n=d.message)||void 0===n?void 0:n.toString()})]}),(0,a.jsx)(c.default,{href:"https://micmonster.com/",target:"_blank",className:"text-primary text-sm mb-2 ",children:"*Klik disini untuk membuat voice"}),(null==u?void 0:u.user.role)!=="tester"&&(0,a.jsx)(s.v,{})]})]})})]})}}},function(e){e.O(0,[9461,231,9343,7363,2971,7023,1744],function(){return e(e.s=4636)}),_N_E=e.O()}]);