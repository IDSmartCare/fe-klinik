(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5570],{57973:function(e,t,n){Promise.resolve().then(n.bind(n,92022)),Promise.resolve().then(n.bind(n,13152)),Promise.resolve().then(n.bind(n,5999))},87138:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var a=n(231),s=n.n(a)},16463:function(e,t,n){"use strict";var a=n(71169);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},92022:function(e,t,n){"use strict";var a=n(57437),s=n(33514),o=n(54175),l=n(13541),r=n(2265);let i=(e,t,n,a)=>{let s=(0,l.O4)(e.getValue(t),n);return a({itemRank:s}),s.passed};function c(e){let{value:t,onChange:n,debounce:s=500,...o}=e,[l,i]=(0,r.useState)(t);return(0,r.useEffect)(()=>{i(t)},[t]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{n(l)},s);return()=>clearTimeout(e)},[l,s,n]),(0,a.jsx)("input",{...o,value:l,onChange:e=>i(e.target.value)})}t.default=function(e){let{rowsData:t,columnsData:n}=e,[l,d]=(0,r.useState)(""),u=(0,r.useMemo)(()=>n,[n]),g=(0,s.b7)({data:t||[],columns:u,state:{globalFilter:l},onGlobalFilterChange:d,globalFilterFn:i,getCoreRowModel:(0,o.sC)(),getFilteredRowModel:(0,o.vL)(),getSortedRowModel:(0,o.tj)(),getPaginationRowModel:(0,o.G_)(),getFacetedRowModel:(0,o.o6)(),getFacetedUniqueValues:(0,o.JG)()});return(0,a.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[(0,a.jsx)(c,{value:null!=l?l:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>d(String(e)),placeholder:"Cari dari total ".concat(g.getPrePaginationRowModel().rows.length," data")}),(0,a.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,a.jsx)("thead",{children:g.getHeaderGroups().map(e=>(0,a.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,a.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,a.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,s.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id))}),(0,a.jsx)("tbody",{children:g.getRowModel().rows.map(e=>(0,a.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,a.jsx)("td",{children:(0,s.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"join",children:[(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(0),disabled:!g.getCanPreviousPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.previousPage(),disabled:!g.getCanPreviousPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(g.getState().pagination.pageIndex+1," of ").concat(g.getPageCount())}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.nextPage(),disabled:!g.getCanNextPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,a.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(g.getPageCount()-1),disabled:!g.getCanNextPage(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("p",{children:" Go to page :"}),(0,a.jsx)("input",{type:"number",defaultValue:g.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;g.setPageIndex(t)},className:"input-xs w-14"})]}),(0,a.jsx)("select",{className:"select select-info select-xs",value:g.getState().pagination.pageSize,onChange:e=>{g.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,a.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},75162:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var a=n(64379),s=n.n(a);function o(e){let{icon:t,title:n}=e;s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=s().stopTimer,e.onmouseleave=s().resumeTimer}}).fire({icon:t,title:n})}},13152:function(e,t,n){"use strict";var a=n(57437),s=n(54175),o=n(87138),l=n(71968),r=n(64379),i=n.n(r),c=n(75162);let d=(0,s.Cl)(),u=async(e,t)=>{let n="".concat(t,"-answer").toLowerCase();console.log("endpoint",n),i().fire({title:"Are you sure?",text:"Data yang terhapus tidak bisa di kembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Tidak",confirmButtonText:"Ya, Hapus!"}).then(async t=>{if(t.isConfirmed)try{let t=await fetch("/api/mastersoap/hapusjawaban",{method:"DELETE",body:JSON.stringify({id:e,endpoint:n}),headers:{"Content-Type":"application/json"}}),a=await t.json();a.id?((0,c.o)({icon:"success",title:"Berhasil"}),setTimeout(()=>{window.location.reload()},2e3)):(0,c.o)({icon:"error",title:a})}catch(e){(0,c.o)({icon:"error",title:e.message})}})},g=[d.accessor(e=>e.answer,{cell:e=>e.getValue(),header:"Keyword"}),d.accessor(e=>e.updatedAt,{cell:e=>(0,l.WU)(e.getValue(),"dd/MM/yyyy HH:mm"),header:"Dibuat tanggal"}),d.accessor(e=>e.createdBy.replace(/\b\w/g,e=>e.toUpperCase()),{cell:e=>e.getValue(),header:"Dibuat oleh"}),d.accessor(e=>e.id,{cell:e=>{let t=e.row.original.question.category.toLowerCase();return(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsx)("div",{className:"tooltip","data-tip":"Ubah Keyword",children:(0,a.jsx)(o.default,{className:"btn btn-outline btn-success btn-circle btn-xs",href:"/klinik/setting/mastersoap/editanswer/".concat(e.getValue(),"?category=").concat(t),children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,a.jsx)("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"}),(0,a.jsx)("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"})]})})}),(0,a.jsx)("div",{className:"tooltip","data-tip":"Hapus Pertanyaan",children:(0,a.jsx)("button",{className:"btn btn-circle btn-outline btn-error btn-xs",onClick:()=>u(e.getValue(),t),children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-4",children:(0,a.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#e82121",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})},header:"Aksi"})];t.default=g},5999:function(e,t,n){"use strict";var a=n(57437),s=n(75162),o=n(16463);n(2265);var l=n(39343);t.default=e=>{var t;let{data:n,session:r,category:i}=e,{register:c,handleSubmit:d,formState:{errors:u},reset:g,control:m}=(0,l.cI)(),h=(0,o.useRouter)(),x=async e=>{var t;let a=null===(t=n.category)||void 0===t?void 0:t.toLowerCase(),o={questionId:Number(n.id),answer:e.answer,createdBy:null==r?void 0:r.user.role};try{let e=await fetch("/api/mastersoap/inputjawaban",{method:"POST",body:JSON.stringify({endpoint:"".concat(a,"-answer"),body:o}),headers:{"content-type":"application/json"}}),t=await e.json();e.ok?((0,s.o)({icon:"success",title:"Berhasil"}),g(),h.refresh()):(0,s.o)({icon:"error",title:t.message||"Gagal"})}catch(e){(0,s.o)({icon:"error",title:e.message||"Kesalahan tidak diketahui"})}};return(0,a.jsx)("div",{className:"p-3 px-5 bg-[#F2F2F2] rounded w-full",children:(0,a.jsxs)("form",{className:"w-full",onSubmit:d(x),children:[(0,a.jsxs)("div",{className:"form-control w-full",children:[(0,a.jsx)("label",{className:"label mt-3",children:(0,a.jsx)("span",{className:"label-text font-bold",children:"Masukkan Keyword"})}),(0,a.jsx)("input",{type:"text",...c("answer",{required:"*Tidak boleh kosong"}),placeholder:"Pertanyaan",className:"input input-bordered w-full ".concat(u.answer?"input-error":"")}),u.answer&&(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text-alt text-error",children:null===(t=u.answer.message)||void 0===t?void 0:t.toString()})})]}),(0,a.jsx)("div",{className:"mt-5 pb-3 flex justify-end",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full md:w-52",children:"Submit"})})]})})}}},function(e){e.O(0,[9461,231,9343,7363,1968,2971,7023,1744],function(){return e(e.s=57973)}),_N_E=e.O()}]);