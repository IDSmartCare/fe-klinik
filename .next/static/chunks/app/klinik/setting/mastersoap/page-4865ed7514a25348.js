(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{42058:function(e,t,a){Promise.resolve().then(a.bind(a,92022)),Promise.resolve().then(a.bind(a,9344)),Promise.resolve().then(a.bind(a,35890))},87138:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var l=a(231),n=a.n(l)},92682:function(e,t,a){"use strict";a.d(t,{ZP:function(){return r}});var l=a(17792),n=a(22988),s=a(2265),o=a(43139);a(31818),a(54887),a(92658);var r=(0,s.forwardRef)(function(e,t){var a=(0,l.u)(e);return s.createElement(o.S,(0,n.Z)({ref:t},a))})},92022:function(e,t,a){"use strict";var l=a(57437),n=a(33514),s=a(54175),o=a(13541),r=a(2265);let i=(e,t,a,l)=>{let n=(0,o.O4)(e.getValue(t),a);return l({itemRank:n}),n.passed};function c(e){let{value:t,onChange:a,debounce:n=500,...s}=e,[o,i]=(0,r.useState)(t);return(0,r.useEffect)(()=>{i(t)},[t]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{a(o)},n);return()=>clearTimeout(e)},[o,n,a]),(0,l.jsx)("input",{...s,value:o,onChange:e=>i(e.target.value)})}t.default=function(e){let{rowsData:t,columnsData:a}=e,[o,d]=(0,r.useState)(""),u=(0,r.useMemo)(()=>a,[a]),g=(0,n.b7)({data:t||[],columns:u,state:{globalFilter:o},onGlobalFilterChange:d,globalFilterFn:i,getCoreRowModel:(0,s.sC)(),getFilteredRowModel:(0,s.vL)(),getSortedRowModel:(0,s.tj)(),getPaginationRowModel:(0,s.G_)(),getFacetedRowModel:(0,s.o6)(),getFacetedUniqueValues:(0,s.JG)()});return(0,l.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[(0,l.jsx)(c,{value:null!=o?o:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>d(String(e)),placeholder:"Cari dari total ".concat(g.getPrePaginationRowModel().rows.length," data")}),(0,l.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,l.jsx)("thead",{children:g.getHeaderGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,l.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,l.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,n.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id))}),(0,l.jsx)("tbody",{children:g.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"join",children:[(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(0),disabled:!g.getCanPreviousPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.previousPage(),disabled:!g.getCanPreviousPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(g.getState().pagination.pageIndex+1," of ").concat(g.getPageCount())}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.nextPage(),disabled:!g.getCanNextPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>g.setPageIndex(g.getPageCount()-1),disabled:!g.getCanNextPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("p",{children:" Go to page :"}),(0,l.jsx)("input",{type:"number",defaultValue:g.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;g.setPageIndex(t)},className:"input-xs w-14"})]}),(0,l.jsx)("select",{className:"select select-info select-xs",value:g.getState().pagination.pageSize,onChange:e=>{g.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,l.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},75162:function(e,t,a){"use strict";a.d(t,{o:function(){return s}});var l=a(64379),n=a.n(l);function s(e){let{icon:t,title:a}=e;n().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n().stopTimer,e.onmouseleave=n().resumeTimer}}).fire({icon:t,title:a})}},9344:function(e,t,a){"use strict";var l=a(57437),n=a(54175),s=a(87138),o=a(71968);let r=(0,n.Cl)(),i=[r.accessor(e=>e.category,{cell:e=>e.getValue(),header:"Kategori SOAP"}),r.accessor(e=>e.question,{cell:e=>e.getValue(),header:"Pertanyaan"}),r.accessor(e=>e.questionType.replace(/\b\w/g,e=>e.toUpperCase()),{cell:e=>e.getValue(),header:"Tipe Pertanyaan"}),r.accessor(e=>e.updatedAt,{cell:e=>(0,o.WU)(e.getValue(),"dd/MM/yyyy HH:mm"),header:"Dibuat tanggal"}),r.accessor(e=>e.createdBy.replace(/\b\w/g,e=>e.toUpperCase()),{cell:e=>e.getValue(),header:"Dibuat oleh"}),r.accessor(e=>e.id,{cell:e=>{let t=e.row.original.questionType,a=e.row.original.category.toLowerCase();return(0,l.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,l.jsx)("div",{className:"tooltip","data-tip":"Ubah Pertanyaan",children:(0,l.jsx)(s.default,{className:"btn btn-outline btn-success btn-circle btn-xs",href:"/klinik/setting/mastersoap/edit/".concat(e.getValue(),"?category=").concat(a),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,l.jsx)("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"}),(0,l.jsx)("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"})]})})}),"number"!==t&&"date"!==t&&(0,l.jsx)("div",{className:"tooltip","data-tip":"Tambah Jawaban",children:(0,l.jsx)(s.default,{className:"btn btn-outline btn-info btn-circle btn-xs",href:"/klinik/setting/mastersoap/add/".concat(e.getValue(),"?category=").concat(a),children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M6 12H18M12 6V18",stroke:"#7e38ff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})})})]})},header:"Aksi"})];t.default=i},35890:function(e,t,a){"use strict";var l=a(57437),n=a(2265),s=a(39343),o=a(92682),r=a(75162),i=a(16463);t.default=e=>{var t,a;let{session:c}=e,d=(0,i.useRouter)(),{register:u,handleSubmit:g,formState:{errors:m},reset:x,control:h}=(0,s.cI)(),b=(0,n.useId)(),p=async e=>{var t,a;let l=null===(t=e.category)||void 0===t?void 0:t.value.toLowerCase(),n={category:null===(a=e.category)||void 0===a?void 0:a.value,questionType:e.questionType.value,question:e.question,idFasyankes:null==c?void 0:c.user.idFasyankes,createdBy:null==c?void 0:c.user.role};(await fetch("/api/mastersoap/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n,endpoint:"master-".concat(l)})})).ok?((0,r.o)({icon:"success",title:"Berhasil"}),d.refresh(),x()):(0,r.o)({icon:"error",title:"Gagal"})};return(0,l.jsx)("div",{className:"p-3 px-5 bg-[#F2F2F2] rounded w-full",children:(0,l.jsxs)("form",{className:"w-full",onSubmit:g(p),children:[(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("div",{className:"flex gap-9 items-center",children:(0,l.jsxs)("div",{className:"w-full flex gap-9",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text font-bold",children:"Kategori SOAP"})}),(0,l.jsx)(s.Qr,{name:"category",control:h,rules:{required:"Tidak boleh kosong!"},render:e=>{let{field:t}=e;return(0,l.jsx)(o.ZP,{...t,isClearable:!0,instanceId:b,placeholder:"SOAP",options:[{label:"Subjective",value:"Subjective"},{label:"Objective",value:"Objective"},{label:"Assessment",value:"Assessment"},{label:"Plan",value:"Plan"},{label:"Instruction",value:"Instruction"}]})}}),m.category&&(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text-alt text-error",children:null===(t=m.category.message)||void 0===t?void 0:t.toString()})})]}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text font-bold",children:"Tipe Pertanyaan"})}),(0,l.jsx)(s.Qr,{name:"questionType",control:h,rules:{required:"Tidak boleh kosong!"},render:e=>{let{field:t}=e;return(0,l.jsx)(o.ZP,{...t,isClearable:!0,instanceId:b,placeholder:"Pertanyaan",options:[{label:"Text",value:"text"},{label:"Number",value:"number"},{label:"Date",value:"date"}]})}}),m.questionType&&(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text-alt text-error",children:null===(a=m.questionType.message)||void 0===a?void 0:a.toString()})})]})]})}),(0,l.jsx)("label",{className:"label mt-3",children:(0,l.jsx)("span",{className:"label-text font-bold",children:"Masukkan Pertanyaan"})}),(0,l.jsx)("input",{type:"text",...u("question",{required:"*Tidak boleh kosong"}),placeholder:"Pertanyaan",className:"input input-bordered w-full"}),m.question&&(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text-alt text-error",children:m.question.message})})]}),(0,l.jsx)("div",{className:"mt-5 pb-3 flex justify-end",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary w-full md:w-52",children:"Submit"})})]})})}}},function(e){e.O(0,[9461,231,9343,7363,1968,5151,2971,7023,1744],function(){return e(e.s=42058)}),_N_E=e.O()}]);