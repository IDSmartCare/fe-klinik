(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6258],{6988:function(e,t,a){Promise.resolve().then(a.bind(a,2022)),Promise.resolve().then(a.bind(a,5723)),Promise.resolve().then(a.bind(a,2014)),Promise.resolve().then(a.bind(a,5491))},6463:function(e,t,a){"use strict";var l=a(1169);a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})},2682:function(e,t,a){"use strict";a.d(t,{ZP:function(){return o}});var l=a(7792),n=a(2988),s=a(2265),r=a(3139);a(1818),a(4887),a(2658);var o=(0,s.forwardRef)(function(e,t){var a=(0,l.u)(e);return s.createElement(r.S,(0,n.Z)({ref:t},a))})},9453:function(e,t,a){"use strict";a.d(t,{q:function(){return n}});var l,n,s=a(7437);(l=n||(n={})).add="add",l.info="info",t.Z=e=>{let{modalname:t,title:a,icon:l}=e,n=()=>{document.getElementById(t).showModal()};return(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:()=>n(),className:"btn btn-xs btn-primary",children:["add"===l?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z",clipRule:"evenodd"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,s.jsx)("path",{d:"M4.038 4.038a5.25 5.25 0 0 0 0 7.424.75.75 0 0 1-1.06 1.061A6.75 6.75 0 1 1 14.5 7.75a.75.75 0 1 1-1.5 0 5.25 5.25 0 0 0-8.962-3.712Z"}),(0,s.jsx)("path",{d:"M7.712 7.136a.75.75 0 0 1 .814.302l2.984 4.377a.75.75 0 0 1-.726 1.164l-.76-.109.289 1.075a.75.75 0 0 1-1.45.388l-.287-1.075-.602.474a.75.75 0 0 1-1.212-.645l.396-5.283a.75.75 0 0 1 .554-.668Z"}),(0,s.jsx)("path",{d:"M5.805 9.695A2.75 2.75 0 1 1 10.5 7.75a.75.75 0 0 0 1.5 0 4.25 4.25 0 1 0-7.255 3.005.75.75 0 1 0 1.06-1.06Z"})]}),a]})})}},6789:function(e,t,a){"use strict";a.d(t,{v:function(){return s}});var l=a(7437),n=a(4887);function s(){let{pending:e}=(0,n.useFormStatus)();return(0,l.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary btn-block",disabled:e,children:"Submit"})}},2022:function(e,t,a){"use strict";var l=a(7437),n=a(3514),s=a(4175),r=a(3541),o=a(2265);let i=(e,t,a,l)=>{let n=(0,r.O4)(e.getValue(t),a);return l({itemRank:n}),n.passed};function d(e){let{value:t,onChange:a,debounce:n=500,...s}=e,[r,i]=(0,o.useState)(t);return(0,o.useEffect)(()=>{i(t)},[t]),(0,o.useEffect)(()=>{let e=setTimeout(()=>{a(r)},n);return()=>clearTimeout(e)},[r,n,a]),(0,l.jsx)("input",{...s,value:r,onChange:e=>i(e.target.value)})}t.default=function(e){let{rowsData:t,columnsData:a}=e,[r,c]=(0,o.useState)(""),u=(0,o.useMemo)(()=>a,[a]),m=(0,n.b7)({data:t,columns:u,state:{globalFilter:r},onGlobalFilterChange:c,globalFilterFn:i,getCoreRowModel:(0,s.sC)(),getFilteredRowModel:(0,s.vL)(),getSortedRowModel:(0,s.tj)(),getPaginationRowModel:(0,s.G_)(),getFacetedRowModel:(0,s.o6)(),getFacetedUniqueValues:(0,s.JG)()});return(0,l.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full p-2",children:[(0,l.jsx)(d,{value:null!=r?r:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>c(String(e)),placeholder:"Cari dari total ".concat(m.getPrePaginationRowModel().rows.length," data")}),(0,l.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,l.jsx)("thead",{children:m.getHeaderGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,l.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,l.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,n.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id))}),(0,l.jsx)("tbody",{children:m.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"join",children:[(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(m.getState().pagination.pageIndex+1," of ").concat(m.getPageCount())}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,l.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("p",{children:" Go to page:"}),(0,l.jsx)("input",{type:"number",defaultValue:m.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;m.setPageIndex(t)},className:"input-xs w-14"})]}),(0,l.jsx)("select",{className:"select select-info select-xs",value:m.getState().pagination.pageSize,onChange:e=>{m.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,l.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},5162:function(e,t,a){"use strict";a.d(t,{o:function(){return s}});var l=a(4379),n=a.n(l);function s(e){let{icon:t,title:a}=e;n().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n().stopTimer,e.onmouseleave=n().resumeTimer}}).fire({icon:t,title:a})}},5723:function(e,t,a){"use strict";var l=a(7437),n=a(4175),s=a(5162);let r=(0,n.Cl)(),o=async(e,t)=>{try{let a=await fetch("/api/paramedis/updatejadwal",{method:"POST",body:JSON.stringify({status:e.target.checked,id:t}),headers:{"conten-type":"application/json"}});(await a.json()).id?(0,s.o)({icon:"success",title:"Ok"}):(0,s.o)({icon:"error",title:"Error"})}catch(e){(0,s.o)({icon:"error",title:e.message})}},i=[r.accessor(e=>e.hari,{cell:e=>e.getValue(),header:"Hari"}),r.accessor(e=>{var t;return null===(t=e.dokter)||void 0===t?void 0:t.namaLengkap},{cell:e=>e.getValue(),header:"Dokter"}),r.accessor(e=>{var t,a;return null===(a=e.dokter)||void 0===a?void 0:null===(t=a.poliklinik)||void 0===t?void 0:t.namaPoli},{cell:e=>e.getValue(),header:"Poli"}),r.accessor(e=>e.jamPraktek,{cell:e=>e.getValue(),header:"Jam Praktek"}),r.accessor(e=>[e.isAktif,e.id],{cell:e=>(0,l.jsx)("input",{type:"checkbox",onChange:t=>o(t,e.getValue()[1]),className:"toggle toggle-xs toggle-primary",defaultChecked:!!e.getValue()[0]}),header:"Status"})];t.default=i},2014:function(e,t,a){"use strict";let l=(0,a(4175).Cl)(),n=[l.accessor(e=>e.hari,{cell:e=>e.getValue(),header:"Hari"}),l.accessor(e=>{var t;return null===(t=e.dokter)||void 0===t?void 0:t.namaLengkap},{cell:e=>e.getValue(),header:"Dokter"}),l.accessor(e=>{var t,a;return null===(a=e.dokter)||void 0===a?void 0:null===(t=a.poliklinik)||void 0===t?void 0:t.namaPoli},{cell:e=>e.getValue(),header:"Poli"}),l.accessor(e=>e.jamPraktek,{cell:e=>e.getValue(),header:"Jam Praktek"})];t.default=n},5491:function(e,t,a){"use strict";var l=a(7437),n=a(6789),s=a(9453),r=a(9343),o=a(5162),i=a(2265),d=a(2682),c=a(6463);t.default=e=>{var t,a;let{session:u}=e,{register:m,handleSubmit:g,formState:{errors:h},reset:x,control:p}=(0,r.cI)(),[v,b]=(0,i.useState)([]),j=(0,c.useRouter)();(0,i.useEffect)(()=>{!async function(){let e=await fetch("/api/paramedis/findalldokter?idFasyankes=".concat(null==u?void 0:u.user.idFasyankes));if(!e.ok){b([]);return}b([...(await e.json()).map(e=>({label:e.namaLengkap,value:e.id}))])}()},[null==u?void 0:u.user.idFasyankes]);let f=async e=>{let t={hari:e.kodeHari.label,kodeHari:Number(e.kodeHari.value),dokterId:Number(e.dokterId.value),jamPraktek:"".concat(e.jamDari,"-").concat(e.jamSampai),idFasyankes:null==u?void 0:u.user.idFasyankes};try{let e=await fetch("/api/jadwal/add",{method:"POST",body:JSON.stringify(t)});if(!e.ok){let t=await e.json();(0,o.o)({icon:"error",title:t.message});return}(0,o.o)({icon:"success",title:"Berhasil!"}),x(),j.refresh()}catch(e){console.log(e),(0,o.o)({icon:"error",title:e.message})}},k=(0,i.useId)();return(0,l.jsxs)("div",{className:"self-end",children:[(0,l.jsx)(s.Z,{icon:s.q.add,modalname:"add-jadwal",title:"Jadwal Baru"}),(0,l.jsx)("dialog",{id:"add-jadwal",className:"modal",children:(0,l.jsxs)("div",{className:"modal-box w-4/12 max-w-lg",children:[(0,l.jsx)("form",{method:"dialog",children:(0,l.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"})}),(0,l.jsx)("h3",{className:"font-bold text-lg",children:"Tambah Jadwal Dokter"}),(0,l.jsxs)("form",{onSubmit:g(f),className:"flex flex-col gap-2 mt-5",children:[(0,l.jsx)(r.Qr,{name:"kodeHari",control:p,rules:{required:"Tidak boleh kosong!"},render:e=>{let{field:t}=e;return(0,l.jsx)(d.ZP,{...t,isClearable:!0,instanceId:k,placeholder:"Pilih hari",options:[{label:"Senin",value:1},{label:"Selasa",value:2},{label:"Rabu",value:3},{label:"Kamis",value:4},{label:"Jumat",value:5},{label:"Sabtu",value:6},{label:"Minggu",value:0}]})}}),(0,l.jsxs)("span",{className:"label-text-alt text-error",children:[" ",h.kodeHari&&(0,l.jsx)("span",{children:null===(t=h.kodeHari.message)||void 0===t?void 0:t.toString()})]}),(0,l.jsx)(r.Qr,{name:"dokterId",control:p,rules:{required:"Tidak boleh kosong!"},render:e=>{let{field:t}=e;return(0,l.jsx)(d.ZP,{...t,isClearable:!0,instanceId:k,placeholder:"Pilih dokter",options:v})}}),(0,l.jsxs)("span",{className:"label-text-alt text-error",children:[" ",h.dokterId&&(0,l.jsx)("span",{children:null===(a=h.dokterId.message)||void 0===a?void 0:a.toString()})]}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("input",{type:"time",...m("jamDari",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"}),(0,l.jsx)("span",{className:"label-text-alt",children:"s/d"}),(0,l.jsx)("input",{type:"time",...m("jamSampai",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"})]}),(0,l.jsxs)("span",{className:"label-text-alt text-error",children:[" ",h.jamDari&&(0,l.jsx)("span",{children:h.jamDari.message})]}),(null==u?void 0:u.user.role)!=="tester"&&(0,l.jsx)(n.v,{})]})]})})]})}}},function(e){e.O(0,[9461,7363,9343,5670,2971,7023,1744],function(){return e(e.s=6988)}),_N_E=e.O()}]);