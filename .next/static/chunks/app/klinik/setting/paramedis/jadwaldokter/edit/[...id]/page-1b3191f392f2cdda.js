(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5399],{6722:function(e,a,r){Promise.resolve().then(r.bind(r,6457))},6463:function(e,a,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})},2682:function(e,a,r){"use strict";r.d(a,{ZP:function(){return l}});var t=r(7792),i=r(2988),n=r(2265),s=r(3139);r(1818),r(4887),r(2658);var l=(0,n.forwardRef)(function(e,a){var r=(0,t.u)(e);return n.createElement(s.S,(0,i.Z)({ref:a},r))})},5162:function(e,a,r){"use strict";r.d(a,{o:function(){return n}});var t=r(4379),i=r.n(t);function n(e){let{icon:a,title:r}=e;i().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=i().stopTimer,e.onmouseleave=i().resumeTimer}}).fire({icon:a,title:r})}},5987:function(e,a,r){"use strict";var t=r(7437);a.Z=e=>{let{message:a}=e;return(0,t.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:a})]})}},6457:function(e,a,r){"use strict";var t=r(7437),i=r(2265),n=r(9343),s=r(2682),l=r(5987),o=r(5162),u=r(6463);a.default=e=>{var a;let{data:r,session:d}=e,{register:c,handleSubmit:m,formState:{errors:p},reset:h,control:f}=(0,n.cI)(),x=(0,i.useId)(),b=(0,u.useRouter)();(0,i.useEffect)(()=>{if(r){let[e,a]=r.jamPraktek.split("-");h({kodeHari:{label:r.hari,value:r.kodeHari},jamDari:e,jamSampai:a})}},[r,h]);let j=async e=>{let a={hari:e.kodeHari.label,kodeHari:Number(e.kodeHari.value),jamPraktek:"".concat(e.jamDari,"-").concat(e.jamSampai),id:Number(e.id),idFasyankes:null==d?void 0:d.user.idFasyankes};try{let e=await fetch("/api/jadwal/edit",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});if(!e.ok){let a=await e.text();(0,o.o)({icon:"error",title:a});return}let r=await e.json();(0,o.o)({icon:"success",title:r.message}),b.push("/klinik/setting/paramedis/jadwaldokter"),b.refresh()}catch(e){console.log(e),(0,o.o)({icon:"error",title:e instanceof Error?e.message:"An unexpected error occurred."})}};return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(l.Z,{message:"Edit Jadwal Dokter"}),(0,t.jsxs)("form",{onSubmit:m(j),className:"flex flex-col gap-2 mt-10 md:w-4/12 border-gray-300 border-2 rounded-lg p-5  md:p-8",children:[(0,t.jsx)("input",{...c("id",{value:r.id}),type:"hidden"}),(0,t.jsx)(n.Qr,{name:"kodeHari",control:f,rules:{required:"Tidak boleh kosong!"},render:e=>{let{field:a}=e;return(0,t.jsx)(s.ZP,{...a,isClearable:!0,instanceId:x,placeholder:"Pilih hari",options:[{label:"Senin",value:1},{label:"Selasa",value:2},{label:"Rabu",value:3},{label:"Kamis",value:4},{label:"Jumat",value:5},{label:"Sabtu",value:6},{label:"Minggu",value:0}],value:a.value||null,onChange:e=>{a.onChange(e||null)}})}}),(0,t.jsx)("span",{className:"label-text-alt text-error",children:p.kodeHari&&(0,t.jsx)("span",{children:null===(a=p.kodeHari.message)||void 0===a?void 0:a.toString()})}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"time",...c("jamDari",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"}),(0,t.jsx)("span",{className:"label-text-alt",children:"s/d"}),(0,t.jsx)("input",{type:"time",...c("jamSampai",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"})]}),(0,t.jsx)("span",{className:"label-text-alt text-error",children:p.jamDari&&(0,t.jsx)("span",{children:p.jamDari.message})}),(null==d?void 0:d.user.role)!="tester"&&(0,t.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Submit"})]})]})}}},function(e){e.O(0,[9461,9343,5670,2971,7023,1744],function(){return e(e.s=6722)}),_N_E=e.O()}]);