(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6829],{47345:function(e,a,t){Promise.resolve().then(t.bind(t,76352))},92682:function(e,a,t){"use strict";t.d(a,{ZP:function(){return o}});var l=t(17792),i=t(22988),n=t(2265),s=t(43139);t(31818),t(54887),t(92658);var o=(0,n.forwardRef)(function(e,a){var t=(0,l.u)(e);return n.createElement(s.S,(0,i.Z)({ref:a},t))})},75162:function(e,a,t){"use strict";t.d(a,{o:function(){return n}});var l=t(64379),i=t.n(l);function n(e){let{icon:a,title:t}=e;i().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=i().stopTimer,e.onmouseleave=i().resumeTimer}}).fire({icon:a,title:t})}},76352:function(e,a,t){"use strict";var l=t(57437),i=t(75162),n=t(16463),s=t(2265),o=t(92682);a.default=e=>{let{data:a,session:t}=e,r=(0,n.useRouter)(),[c,u]=(0,s.useState)([]),[d,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=await fetch("".concat("http://localhost:8000","/setting/voicepoli/").concat(null==t?void 0:t.user.idFasyankes),{method:"GET",headers:{Authorization:"Bearer ".concat("testing")}});if(!e.ok){u([]);return}let l=(await e.json()).map(e=>({label:e.namaPoli,value:e.id}));u(l),m(l.find(e=>e.value===a.voiceId)||null)})()},[null==t?void 0:t.user.idFasyankes,a.voiceId]);let f=async e=>{e.preventDefault();let t={id:a.id,namaPoli:e.target.namaPoli.value,voiceId:null==d?void 0:d.value};try{let e=await fetch("/api/paramedis/updatepoli",{method:"PATCH",body:JSON.stringify(t),headers:{"content-type":"application/json"}});(await e.json()).id?((0,i.o)({icon:"success",title:"Berhasil!"}),r.refresh(),setTimeout(()=>{r.push("/klinik/setting/paramedis/poliklinik")},500)):(0,i.o)({icon:"error",title:"Error"})}catch(e){(0,i.o)({icon:"error",title:e.message})}};return(0,l.jsx)("div",{className:"flex w-1/2",onSubmit:f,children:(0,l.jsxs)("form",{className:"w-full",children:[(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("div",{className:"label",children:(0,l.jsx)("span",{className:"label-text",children:"Kode Poli"})}),(0,l.jsx)("input",{type:"text",readOnly:!0,disabled:!0,value:(null==a?void 0:a.kodePoli)||"Tidak ada data",className:"input input-bordered w-full input-sm"})]}),(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("div",{className:"label",children:(0,l.jsx)("span",{className:"label-text",children:"Nama Poli"})}),(0,l.jsx)("input",{type:"text",defaultValue:(null==a?void 0:a.namaPoli)||"Tidak ada data",name:"namaPoli",className:"input input-primary w-full input-sm"})]}),(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("div",{className:"label",children:(0,l.jsx)("span",{className:"label-text",children:"Voice Poli"})}),(0,l.jsx)(o.ZP,{placeholder:"Pilih Voice",className:"w-full",isClearable:!0,value:d,onChange:e=>m(e),options:c})]}),(null==t?void 0:t.user.role)!=="tester"&&(0,l.jsx)("button",{className:"btn btn-sm btn-primary btn-block mt-2",children:"EDIT"})]})})}}},function(e){e.O(0,[9461,5151,2971,7023,1744],function(){return e(e.s=47345)}),_N_E=e.O()}]);