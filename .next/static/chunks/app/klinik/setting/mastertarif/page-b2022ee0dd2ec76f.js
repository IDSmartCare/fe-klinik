(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4326],{15232:function(e,a,l){Promise.resolve().then(l.bind(l,92022)),Promise.resolve().then(l.bind(l,63111)),Promise.resolve().then(l.bind(l,56907))},87138:function(e,a,l){"use strict";l.d(a,{default:function(){return t.a}});var n=l(231),t=l.n(n)},92682:function(e,a,l){"use strict";l.d(a,{ZP:function(){return i}});var n=l(17792),t=l(22988),s=l(2265),r=l(43139);l(31818),l(54887),l(92658);var i=(0,s.forwardRef)(function(e,a){var l=(0,n.u)(e);return s.createElement(r.S,(0,t.Z)({ref:a},l))})},49453:function(e,a,l){"use strict";l.d(a,{q:function(){return t}});var n,t,s=l(57437);(n=t||(t={})).add="add",n.info="info",a.Z=e=>{let{modalname:a,title:l,icon:n}=e,t=()=>{document.getElementById(a).showModal()};return(0,s.jsx)("div",{children:(0,s.jsxs)("button",{onClick:()=>t(),className:"btn btn-xs btn-primary",children:["add"===n?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z",clipRule:"evenodd"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,s.jsx)("path",{d:"M4.038 4.038a5.25 5.25 0 0 0 0 7.424.75.75 0 0 1-1.06 1.061A6.75 6.75 0 1 1 14.5 7.75a.75.75 0 1 1-1.5 0 5.25 5.25 0 0 0-8.962-3.712Z"}),(0,s.jsx)("path",{d:"M7.712 7.136a.75.75 0 0 1 .814.302l2.984 4.377a.75.75 0 0 1-.726 1.164l-.76-.109.289 1.075a.75.75 0 0 1-1.45.388l-.287-1.075-.602.474a.75.75 0 0 1-1.212-.645l.396-5.283a.75.75 0 0 1 .554-.668Z"}),(0,s.jsx)("path",{d:"M5.805 9.695A2.75 2.75 0 1 1 10.5 7.75a.75.75 0 0 0 1.5 0 4.25 4.25 0 1 0-7.255 3.005.75.75 0 1 0 1.06-1.06Z"})]}),l]})})}},92022:function(e,a,l){"use strict";var n=l(57437),t=l(33514),s=l(54175),r=l(13541),i=l(2265);let o=(e,a,l,n)=>{let t=(0,r.O4)(e.getValue(a),l);return n({itemRank:t}),t.passed};function c(e){let{value:a,onChange:l,debounce:t=500,...s}=e,[r,o]=(0,i.useState)(a);return(0,i.useEffect)(()=>{o(a)},[a]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(r)},t);return()=>clearTimeout(e)},[r,t,l]),(0,n.jsx)("input",{...s,value:r,onChange:e=>o(e.target.value)})}a.default=function(e){let{rowsData:a,columnsData:l}=e,[r,d]=(0,i.useState)(""),u=(0,i.useMemo)(()=>l,[l]),m=(0,t.b7)({data:a||[],columns:u,state:{globalFilter:r},onGlobalFilterChange:d,globalFilterFn:o,getCoreRowModel:(0,s.sC)(),getFilteredRowModel:(0,s.vL)(),getSortedRowModel:(0,s.tj)(),getPaginationRowModel:(0,s.G_)(),getFacetedRowModel:(0,s.o6)(),getFacetedUniqueValues:(0,s.JG)()});return(0,n.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[(0,n.jsx)(c,{value:null!=r?r:"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>d(String(e)),placeholder:"Cari dari total ".concat(m.getPrePaginationRowModel().rows.length," data")}),(0,n.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[(0,n.jsx)("thead",{children:m.getHeaderGroups().map(e=>(0,n.jsx)("tr",{children:e.headers.map(e=>{var a;return(0,n.jsx)("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,n.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,t.ie)(e.column.columnDef.header,e.getContext()),null!==(a=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==a?a:null]})},e.id)})},e.id))}),(0,n.jsx)("tbody",{children:m.getRowModel().rows.map(e=>(0,n.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,n.jsx)("td",{children:(0,t.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"join",children:[(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",children:"Page ".concat(m.getState().pagination.pageIndex+1," of ").concat(m.getPageCount())}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),(0,n.jsx)("button",{className:"join-item btn btn-xs btn-info",onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("p",{children:" Go to page :"}),(0,n.jsx)("input",{type:"number",defaultValue:m.getState().pagination.pageIndex+1,onChange:e=>{let a=e.target.value?Number(e.target.value)-1:0;m.setPageIndex(a)},className:"input-xs w-14"})]}),(0,n.jsx)("select",{className:"select select-info select-xs",value:m.getState().pagination.pageSize,onChange:e=>{m.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,n.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},75162:function(e,a,l){"use strict";l.d(a,{o:function(){return s}});var n=l(64379),t=l.n(n);function s(e){let{icon:a,title:l}=e;t().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=t().stopTimer,e.onmouseleave=t().resumeTimer}}).fire({icon:a,title:l})}},73193:function(e,a,l){"use strict";l.d(a,{V:function(){return t},b:function(){return n}});let n=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0,minimumFractionDigits:0}).format(Number(e)),t=e=>{let a=Number(e.replace(/[^0-9]/g,""));return isNaN(a)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}},56907:function(e,a,l){"use strict";var n=l(57437),t=l(54175),s=l(87138),r=l(73193);let i=(0,t.Cl)(),o=[i.accessor(e=>e.namaTarif,{cell:e=>e.getValue().charAt(0).toUpperCase()+e.getValue().slice(1).toLowerCase(),header:"Tarif"}),i.accessor(e=>e.kategoriTarif,{cell:e=>e.getValue().charAt(0).toUpperCase()+e.getValue().slice(1).toLowerCase(),header:"Kategori"}),i.accessor(e=>e.hargaTarif,{cell:e=>(0,r.b)(e.getValue()),header:"Nominal"}),i.accessor(e=>e.penjamin,{cell:e=>{var a;return null===(a=e.getValue())||void 0===a?void 0:a.toUpperCase()},header:"Penjamin"}),i.accessor(e=>e.id,{cell:e=>(0,n.jsx)("div",{className:"tooltip","data-tip":"Edit Tarif",children:(0,n.jsx)(s.default,{className:"btn btn-outline btn-success btn-circle btn-xs",href:"/klinik/setting/mastertarif/edit/".concat(e.getValue()),children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[(0,n.jsx)("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"}),(0,n.jsx)("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 2 11.25v-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"})]})})}),header:"Aksi"})];a.default=o},63111:function(e,a,l){"use strict";var n=l(57437),t=l(49453),s=l(2265),r=l(39343),i=l(92682),o=l(75162),c=l(16463),d=l(73193);a.default=e=>{var a,l;let{session:u}=e,{register:m,handleSubmit:h,formState:{errors:g},reset:x,control:f,setError:v,setValue:b,watch:p}=(0,r.cI)(),j=(0,s.useId)(),N=(0,c.useRouter)(),[k,w]=(0,s.useState)(""),C=(0,s.useRef)(null),[y,T]=(0,s.useState)(null),[P,S]=(0,s.useState)(null),[D,I]=(0,s.useState)([]),[L,A]=(0,s.useState)([]),M=null===(a=p("kategoriTarif"))||void 0===a?void 0:a.value;(0,s.useEffect)(()=>{"Dokter"!==M?b("dokter",null):b("namaTarif",null)},[M,b]),(0,s.useEffect)(()=>{(async function(){var e;let a=await fetch("".concat("http://localhost:8000","/dokter/listdokter/").concat(null==u?void 0:u.user.idFasyankes),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("testing")}});if(!a.ok){I([]);return}I(null===(e=(await a.json()).data)||void 0===e?void 0:e.map(e=>({label:"".concat(e.name," - ").concat(e.unit),value:e.id})))})()},[null==u?void 0:u.user.idFasyankes]),(0,s.useEffect)(()=>{(async function(){var e;let a=await fetch("".concat("http://localhost:8000","/masterasuransi/").concat(null==u?void 0:u.user.idFasyankes),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("testing")}});if(!a.ok){A([]);return}A(null===(e=(await a.json()).data)||void 0===e?void 0:e.map(e=>({label:e.namaAsuransi,value:e.id})))})()},[null==u?void 0:u.user.idFasyankes]);let R=async e=>{if(e){var a,l,n,t;let s={namaTarif:null!==(t=null===(a=e.dokter)||void 0===a?void 0:a.label)&&void 0!==t?t:e.namaTarif,kategoriTarif:e.kategoriTarif.value,doctorId:null===(l=e.dokter)||void 0===l?void 0:l.value,hargaTarif:k,penjamin:y?"ASURANSI ".concat(y):(null===(n=e.penjamin)||void 0===n?void 0:n.value)||null,idFasyankes:null==u?void 0:u.user.idFasyankes};try{let e=await fetch("/api/mastertarif/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)(0,o.o)({icon:"success",title:"Berhasil Menambahkan Tarif"}),x(),N.refresh(),C.current&&C.current.close();else{let a=await e.json();(0,o.o)({icon:"error",title:a.message||"Gagal Menambahkan Tarif"}),a.errors&&Object.keys(a.errors).forEach(e=>{v(e,{type:"api",message:a.errors[e]})})}}catch(e){(0,o.o)({icon:"error",title:e.message||"Terjadi Kesalahan"}),console.error(e)}}else(0,o.o)({icon:"error",title:"Data tidak valid"})};return(0,n.jsxs)("div",{className:"self-end",children:[(0,n.jsx)(t.Z,{icon:t.q.add,modalname:"add-master-tarif",title:"Tambah Master Tarif"}),(0,n.jsx)("dialog",{id:"add-master-tarif",className:"modal",ref:C,children:(0,n.jsxs)("div",{className:"modal-box w-8/12 max-w-3xl h-screen",children:[(0,n.jsx)("form",{method:"dialog",children:(0,n.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),(0,n.jsx)("h3",{className:"font-bold text-lg",children:"Tambah Master Tarif"}),(0,n.jsxs)("form",{onSubmit:h(R),className:"flex flex-col gap-2 mt-5",children:[(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Kategori Tarif"})}),(0,n.jsx)(r.Qr,{name:"kategoriTarif",control:f,rules:{required:"*Tidak boleh kosong"},render:e=>{let{field:a}=e;return(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)(i.ZP,{...a,isClearable:!0,placeholder:"Pilih Kategori",instanceId:j,options:[{value:"Admin",label:"Admin"},{value:"Dokter",label:"Dokter"},{value:"Layanan Injeksi",label:"Layanan Injeksi"},{value:"Layanan Perawatan Luka",label:"Layanan Perawatan Luka"},{value:"Layanan Terapi Infus",label:"Layanan Terapi Infus"},{value:"Layanan Pemeriksaan dan Diagnostik Cepat",label:"Layanan Pemeriksaan dan Diagnostik Cepat"},{value:"Layanan Tindakan Minor",label:"Layanan Tindakan Minor"},{value:"Layanan Ortopedi dan Fisioterapi",label:"Layanan Ortopedi dan Fisioterapi"},{value:"Layanan Dermatologi Ringan",label:"Layanan Dermatologi Ringan"},{value:"Layanan Kebersihan Medis",label:"Layanan Kebersihan Medis"},{value:"Layanan Penanganan Nyeri",label:"Layanan Penanganan Nyeri"}],onChange:e=>{a.onChange(e)}}),g.kategoriTarif&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:g.kategoriTarif.message})})]})}})]}),"Dokter"!=M&&(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Nama Tarif"})}),(0,n.jsx)("input",{type:"text",...m("namaTarif",{required:"*Tidak boleh kosong"}),className:"input input-primary w-full input-sm"}),g.namaTarif&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:null===(l=g.namaTarif.message)||void 0===l?void 0:l.toString()})})]}),"Dokter"===M&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Dokter"})}),(0,n.jsx)(r.Qr,{name:"dokter",control:f,rules:{required:"*Tidak boleh kosong"},render:e=>{var a;let{field:l}=e;return(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)(i.ZP,{...l,isClearable:!0,placeholder:"Pilih Dokter",instanceId:j,options:D}),g.dokter&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:null===(a=g.dokter.message)||void 0===a?void 0:a.toString()})})]})}})]})}),(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Nominal"})}),(0,n.jsx)("input",{type:"text",...m("hargaTarif",{required:"*Tidak boleh kosong"}),onChange:e=>{let a=e.target.value.replace(/[^0-9]/g,"");w(a),e.target.value=(0,d.V)(a)},className:"input input-sm input-primary w-full",value:k?(0,d.V)(k):""}),g.hargaTarif&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:g.hargaTarif.message})})]}),(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Penjamin"})}),(0,n.jsx)(r.Qr,{name:"penjamin",control:f,rules:{required:"*Tidak boleh kosong"},render:e=>{var a;let{field:l}=e;return(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)(i.ZP,{...l,isClearable:!0,placeholder:"Pilih Penjamin",instanceId:j,options:[{value:"BPJS",label:"BPJS"},{value:"PRIBADI",label:"PRIBADI"},{value:"ASURANSI",label:"ASURANSI"}],onChange:e=>{var a;l.onChange(e),S(null!==(a=null==e?void 0:e.value)&&void 0!==a?a:null),["BPJS","PRIBADI","ASURANSI"].includes(null==e?void 0:e.value)&&(b("asuransi",null),T(null))}}),g.penjamin&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:null===(a=g.penjamin.message)||void 0===a?void 0:a.toString()})})]})}})]}),"ASURANSI"===P&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("div",{className:"label",children:(0,n.jsx)("span",{className:"label-text",children:"Pilih Asuransi"})}),(0,n.jsx)(r.Qr,{name:"asuransi",control:f,rules:{required:"*Tidak boleh kosong"},render:e=>{var a;let{field:l}=e;return(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)(i.ZP,{...l,isClearable:!0,placeholder:"Pilih Asuransi",instanceId:j,options:L,onChange:e=>{l.onChange(e),T((null==e?void 0:e.label)||null)}}),g.dokter&&(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text-alt text-error",children:null===(a=g.dokter.message)||void 0===a?void 0:a.toString()})})]})}})]})}),(null==u?void 0:u.user.role)!=="tester"&&(0,n.jsx)("button",{className:"btn btn-primary btn-block btn-sm mt-3",children:"Simpan"})]})]})})]})}}},function(e){e.O(0,[9461,231,9343,7363,5151,2971,7023,1744],function(){return e(e.s=15232)}),_N_E=e.O()}]);