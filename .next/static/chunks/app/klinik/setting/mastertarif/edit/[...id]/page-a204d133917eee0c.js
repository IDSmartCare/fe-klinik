(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7446],{76300:function(e,a,t){Promise.resolve().then(t.bind(t,44802))},16463:function(e,a,t){"use strict";var r=t(71169);t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},75162:function(e,a,t){"use strict";t.d(a,{o:function(){return s}});var r=t(64379),i=t.n(r);function s(e){let{icon:a,title:t}=e;i().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=i().stopTimer,e.onmouseleave=i().resumeTimer}}).fire({icon:a,title:t})}},73193:function(e,a,t){"use strict";t.d(a,{V:function(){return i},b:function(){return r}});let r=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0,minimumFractionDigits:0}).format(Number(e)),i=e=>{let a=Number(e.replace(/[^0-9]/g,""));return isNaN(a)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}},44802:function(e,a,t){"use strict";var r=t(57437),i=t(39343),s=t(65987),l=t(75162),n=t(30998),o=t(2265),u=t(73193),c=t(16463);a.default=e=>{let{dataForm:a}=e,[t,m]=(0,o.useState)(null==a?void 0:a.hargaTarif),d=(0,c.useRouter)(),{data:f}=(0,n.useSession)(),{register:h,handleSubmit:p,formState:{errors:x}}=(0,i.cI)(),b=async e=>{let r={id:a.id,namaTarif:null==e?void 0:e.namaTarif,doctorId:a.doctorId,hargaTarif:t};try{let e=await fetch("/api/mastertarif/edit",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok)(0,l.o)({icon:"success",title:"Berhasil Mengubah Tarif"}),d.push("/klinik/setting/mastertarif"),d.refresh();else{let a=await e.json();(0,l.o)({icon:"error",title:a.message||"Gagal Mengubah Tarif"})}}catch(e){(0,l.o)({icon:"error",title:e.message||"Terjadi Kesalahan"}),console.error(e)}};return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)(s.Z,{message:"Edit tarif"}),(0,r.jsxs)("form",{onSubmit:p(b),className:"flex flex-col gap-2 w-1/2",children:[(0,r.jsx)("input",{...h("id",{value:null==a?void 0:a.id}),type:"hidden"}),(null==a?void 0:a.penjamin)!=null&&(0,r.jsxs)("div",{className:"form-control w-full",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Penjamin"})}),(0,r.jsx)("input",{type:"text",disabled:!0,value:null==a?void 0:a.penjamin,className:"input input-sm input-bordered w-full "})]}),(0,r.jsxs)("div",{className:"form-control w-full",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Kategori"})}),(0,r.jsx)("input",{type:"text",disabled:!0,value:null==a?void 0:a.kategoriTarif,className:"input input-sm input-bordered w-full "})]}),(0,r.jsxs)("div",{className:"form-control w-full",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Nama Tarif"})}),(0,r.jsx)("input",{type:"text",defaultValue:null==a?void 0:a.namaTarif,...h("namaTarif"),className:"input input-sm input-primary w-full",disabled:(null==a?void 0:a.kategoriTarif)=="Dokter"})]}),x.namaTarif&&(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text-alt text-error",children:x.namaTarif.message})}),(0,r.jsxs)("div",{className:"form-control w-full",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Harga Tarif"})}),(0,r.jsx)("input",{type:"text",defaultValue:(0,u.V)(null==a?void 0:a.hargaTarif),...h("hargaTarif",{required:"Tidak boleh kosong!"}),onChange:e=>{let a=e.target.value.replace(/[^0-9]/g,"");m(a),e.target.value=(0,u.V)(a)},className:"input input-sm input-primary w-full"})]}),x.hargaTarif&&(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text-alt text-error",children:x.hargaTarif.message})}),(null==f?void 0:f.user.role)!=="tester"&&(0,r.jsx)("button",{className:"btn btn-sm btn-primary btn-block",children:"EDIT"})]})]})}},65987:function(e,a,t){"use strict";var r=t(57437);a.Z=e=>{let{message:a}=e;return(0,r.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:a})]})}}},function(e){e.O(0,[9461,9343,998,2971,7023,1744],function(){return e(e.s=76300)}),_N_E=e.O()}]);