(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{92183:function(e,a,l){Promise.resolve().then(l.bind(l,98676))},87138:function(e,a,l){"use strict";l.d(a,{default:function(){return t.a}});var s=l(231),t=l.n(s)},16463:function(e,a,l){"use strict";var s=l(71169);l.o(s,"useRouter")&&l.d(a,{useRouter:function(){return s.useRouter}})},75162:function(e,a,l){"use strict";l.d(a,{o:function(){return i}});var s=l(64379),t=l.n(s);function i(e){let{icon:a,title:l}=e;t().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=t().stopTimer,e.onmouseleave=t().resumeTimer}}).fire({icon:a,title:l})}},98676:function(e,a,l){"use strict";var s=l(57437),t=l(2265),i=l(39343),n=l(75162),r=l(16463),m=l(65987),c=l(87138);a.default=e=>{let{data:a,session:l}=e,{register:u,handleSubmit:o,formState:{errors:d},reset:p,control:x}=(0,i.cI)();(0,t.useId)();let h=(0,r.useRouter)(),f=async e=>{let s={...a,idFasyankes:null==l?void 0:l.user.idFasyankes,namaPic:e.namaPic,picEmail:e.picEmail,picPhone:e.picPhone,alamat:e.alamat,from:e.from,to:e.to};try{let e=await fetch("/api/masterasuransi/edit",{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});if(!e.ok){let a=await e.text();(0,n.o)({icon:"error",title:a});return}let a=await e.json();(0,n.o)({icon:"success",title:a.message}),h.push("/klinik/setting/masterasuransi"),h.refresh()}catch(e){console.log(e),(0,n.o)({icon:"error",title:e instanceof Error?e.message:"An unexpected error occurred."})}};return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(m.Z,{message:"Edit Asuransi"}),(0,s.jsxs)("form",{onSubmit:o(f),className:"flex flex-col gap-2 mt-4 w-full md:w-5/12 ",children:[(0,s.jsxs)("div",{className:"form-control w-full",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Nama Asuransi"})}),(0,s.jsx)("input",{type:"text",...u("namaAsuransi"),disabled:!0,defaultValue:null==a?void 0:a.namaAsuransi,className:"input input-sm input-primary w-full "}),d.namaAsuransi&&(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text-alt text-error",children:d.namaAsuransi.message})})]}),(0,s.jsxs)("div",{className:"form-control w-full",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Alamat"})}),(0,s.jsx)("input",{type:"text",...u("alamat",{required:"*Tidak boleh kosong"}),defaultValue:null==a?void 0:a.alamat,className:"input input-sm input-primary w-full "}),d.alamat&&(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text-alt text-error",children:d.alamat.message})})]}),(0,s.jsxs)("div",{className:"form-control w-full",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Nama PIC"})}),(0,s.jsx)("input",{type:"text",...u("namaPic",{required:"*Tidak boleh kosong"}),defaultValue:null==a?void 0:a.namaPic,className:"input input-sm input-primary w-full "}),d.namaPic&&(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text-alt text-error",children:d.namaPic.message})})]}),(0,s.jsxs)("div",{className:"form-control w-full",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Email PIC"})}),(0,s.jsx)("input",{type:"email",...u("picEmail",{required:"*Tidak boleh kosong"}),defaultValue:null==a?void 0:a.picEmail,className:"input input-sm input-primary w-full "}),d.picEmail&&(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text-alt text-error",children:d.picEmail.message})})]}),(0,s.jsxs)("div",{className:"form-control w-full",children:[(0,s.jsx)("div",{className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Nomor Telepon PIC"})}),(0,s.jsx)("input",{type:"number",...u("picPhone",{required:"*Tidak boleh kosong",minLength:{value:10,message:"Minimal 10 angka"},maxLength:{value:16,message:"Maksimal 16 angka"}}),defaultValue:null==a?void 0:a.picPhone,className:"input input-sm input-primary w-full "}),d.picPhone&&(0,s.jsx)("label",{className:"label",children:(0,s.jsx)("span",{className:"label-text-alt text-error",children:d.picPhone.message})})]}),(0,s.jsxs)("div",{className:"mt-3 flex gap-5 items-center w-full mb-5",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("label",{htmlFor:"tglDari",className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tanggal Mulai Kerjasama"})}),(0,s.jsx)("input",{id:"tglDari",type:"date",defaultValue:null==a?void 0:a.from,...u("from",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"})]}),(0,s.jsx)("span",{className:"label-text-alt mt-9",children:"s/d"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("label",{htmlFor:"tglSampai",className:"label",children:(0,s.jsx)("span",{className:"label-text",children:"Tanggal Selesai Kerjasama"})}),(0,s.jsx)("input",{id:"tglSampai",type:"date",defaultValue:null==a?void 0:a.to,...u("to",{required:"Tidak boleh kosong!"}),className:"input input-sm input-bordered input-primary w-full max-w-xs"})]})]}),(null==l?void 0:l.user.role)!="tester"&&(0,s.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Submit"}),(0,s.jsx)(c.default,{href:"/klinik/setting/masterasuransi",className:"btn btn-sm w-full btn-error text-white",children:"Batal"})]})]})}},65987:function(e,a,l){"use strict";var s=l(57437);a.Z=e=>{let{message:a}=e;return(0,s.jsxs)("div",{role:"alert",className:"alert rounded",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:a})]})}}},function(e){e.O(0,[9461,231,9343,2971,7023,1744],function(){return e(e.s=92183)}),_N_E=e.O()}]);