(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5067],{7920:function(e,t,n){Promise.resolve().then(n.bind(n,48346))},48346:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(57437),s=n(2265),i=n(66648),l=e=>(0,a.jsxs)("div",{className:"px-14 pt-20 pb-24 rounded-xl justify-center items-center bg-white flex flex-col gap-7 cursor-pointer relative",onClick:e.onClick,children:[(0,a.jsx)(i.default,{src:e.src,alt:e.src,width:150,height:150}),(0,a.jsx)("span",{className:"text-2xl font-bold absolute bottom-8",children:e.title})]}),r=n(30998),c=n(58606),o=n(34446),d=n(66893),u=n(41087),x=n(95525),m=n(58266),h=n(57818);let p=(0,h.default)(()=>Promise.all([n.e(9343),n.e(2148)]).then(n.bind(n,2148)),{loadableGenerated:{webpack:()=>[2148]},ssr:!1}),f=(0,h.default)(()=>Promise.all([n.e(249),n.e(7448),n.e(7282),n.e(5457),n.e(4258)]).then(n.bind(n,40521)),{loadableGenerated:{webpack:()=>[40521]},ssr:!1});var g=()=>{let{data:e}=(0,r.useSession)(),[t,n]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[j,b]=(0,s.useState)(null),[k,S]=(0,s.useState)((0,m.z)()),[w,v]=(0,s.useState)(""),[N,y]=(0,s.useState)(""),[C,M]=(0,s.useState)(""),D=t=>{n(t),"new-registration"===t?(E(null==e?void 0:e.user.idFasyankes),g(!0)):"insurance"===t&&(n(null),v("insurance"),P("search-patient"))};(0,s.useEffect)(()=>{let e=setInterval(()=>{S((0,m.z)())},1e3);return()=>clearInterval(e)},[]);let E=async e=>{try{let t=await fetch("".concat("http://localhost:8000","/antrian/store-admisi"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("testing")},body:JSON.stringify({idFasyankes:e})});if(!t.ok)return;let n=await t.json();return b(n.data.nomor),n}catch(e){console.log(e)}},P=e=>{document.getElementById(e).showModal()},A=e=>{document.getElementById(e).showModal(),y((0,x.e)().jam),M((0,x.e)().tanggal)},F={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{nomorAntrian:j,tanggalDaftar:C,jamDaftar:N}),(0,a.jsx)(p,{asuransi:w}),(0,a.jsxs)("div",{className:"h-screen flex flex-col gap-9 2xl:gap-24 justify-center items-center relative overflow-hidden",style:{backgroundImage:"url('/background-APM.png')",backgroundSize:"cover"},children:[null!==t&&(0,a.jsx)("div",{className:"w-full flex justify-between px-20 absolute top-14",children:(0,a.jsx)(c.E.div,{className:"p-3 rounded-full bg-white cursor-pointer",onClick:()=>{n(null),g(!1)},initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{duration:.3},children:(0,a.jsx)(i.default,{src:"/back-icon.png",alt:"Back button",width:50,height:50})})}),(0,a.jsx)("div",{className:"flex text-center text-white",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"font-bold text-5xl",children:"Selamat Datang di Fasyankes ".concat(null==e?void 0:e.user.nameFasyankes)}),(0,a.jsx)("h3",{className:"font-bold text-4xl mt-3",children:"Anjungan Pasien Mandiri"}),(0,a.jsxs)("div",{className:"flex flex-col mt-10",children:[(0,a.jsx)("span",{className:"font-bold text-4xl text-white",children:(0,x.L)()}),(0,a.jsx)("span",{className:"font-bold text-3xl text-white opacity-80 mt-2",children:k})]})]})}),(0,a.jsx)("div",{className:"flex gap-20",children:(0,a.jsxs)(o.M,{mode:"wait",children:[null===t&&(0,a.jsxs)(c.E.div,{...F,className:"flex gap-20",children:[(0,a.jsx)(l,{src:"/new-patient.png",title:"Registrasi Pasien",onClick:()=>D("new-patient")}),(0,a.jsx)(l,{src:"/bpjs.png",title:"BPJS",onClick:()=>(0,d.K)({icon:"error",title:"BPJS",text:"Fitur Belum Tersedia"})}),(0,a.jsx)(l,{src:"/asuransi.png",title:"Asuransi",onClick:()=>D("insurance")})]},"initial-cards"),"new-patient"===t||"new-registration"===t?(0,a.jsxs)(c.E.div,{...F,className:"flex gap-20",children:[(0,a.jsx)(l,{src:"/old-patient.png",title:"Pasien Terdaftar",onClick:()=>P("search-patient")}),(0,a.jsx)(l,{src:"/new-patient.png",title:"Daftar Baru",onClick:()=>D("new-registration")})]},"new-patient"):null,"bpjs"===t&&(0,a.jsx)(c.E.div,{...F},"bpjs"),"asuransi"===t&&(0,a.jsx)(c.E.div,{...F},"asuransi")]})}),(0,a.jsx)("div",{className:"flex text-center text-white",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-lg",children:"Didukung oleh"}),(0,a.jsx)(i.default,{src:"/idSmartCloud-logo.png",alt:"logo",width:200,height:200})]})}),(0,a.jsx)(o.M,{children:h&&(0,a.jsx)(c.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{duration:.5,delay:.7},className:"absolute bottom-0 w-full flex justify-center",children:(0,a.jsx)(u.F,{onBatalClick:()=>{g(!1),setTimeout(()=>{n(null)},1500)},nomor:j,title:"Administrasi",administrasi:"Administrasi",onPrintTicket:()=>{A("modal-antrian-admisi")}})},"ticket-component")})]})]})}},41087:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var a=n(57437),s=n(66648);let i=e=>{let{onPrintTicket:t,onBatalClick:n,nomor:i,title:l,poli:r,administrasi:c}=e;return(0,a.jsxs)("div",{className:"relative flex flex-col items-center justify-center bottom-[-80px]",children:[(0,a.jsx)(s.default,{src:"/ticket.png",alt:"ticket",height:400,width:400}),(0,a.jsxs)("div",{className:"absolute top-24 flex flex-col gap-5 text-center",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold",children:["Antrian ",l]}),(0,a.jsx)("span",{className:"text-7xl font-bold",children:i})]}),(0,a.jsxs)("div",{className:"absolute top-96 flex flex-col gap-5",children:[c&&(0,a.jsxs)("span",{className:"text-lg font-bold",children:["Silahkan Menuju ",c]}),r&&(0,a.jsxs)("span",{className:"text-lg font-bold",children:["Silahkan Menuju ",r]}),(0,a.jsx)("button",{className:"btn btn-sm btn-primary",onClick:t,children:"Print Tiket"}),(0,a.jsx)("button",{className:"btn btn-sm btn-error text-white",onClick:n,children:"Tutup"})]})]})}},66893:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var a=n(64379),s=n.n(a);let i=e=>{let{icon:t,title:n,text:a}=e;s().fire({position:"center",icon:t,title:n,text:a})}},95525:function(e,t,n){"use strict";n.d(t,{L:function(){return a},e:function(){return s}});let a=()=>{let e=new Date,t=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"][e.getDay()],n=e.getDate(),a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][e.getMonth()],s=e.getFullYear();return"".concat(t,", ").concat(n," ").concat(a," ").concat(s)},s=()=>{let e=new Date,t=e.toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}),n=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),s=String(e.getSeconds()).padStart(2,"0");return{tanggal:t,jam:"".concat(n,":").concat(a,":").concat(s)}}},58266:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});let a=()=>{let e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return"".concat(t," : ").concat(n," : ").concat(a)}}},function(e){e.O(0,[9461,998,8173,3060,2971,7023,1744],function(){return e(e.s=7920)}),_N_E=e.O()}]);