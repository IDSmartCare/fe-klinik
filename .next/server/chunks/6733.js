"use strict";exports.id=6733,exports.ids=[6733],exports.modules={33419:(e,t,s)=>{s.d(t,{default:()=>b});var n=s(10326),a=s(17577),l=s(74723),i=s(32859),r=s(77109),o=s(97090),d=s(71271),c=s(43467);function h(e,t){let s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function x(e,t){let s=(0,d.Q)(e),n=(0,d.Q)(t),a=s.getTime()-n.getTime();return a<0?-1:a>0?1:a}let m=e=>{if(!e)return{years:"",months:"",days:""};let t=new Date,s=function(e,t){let s=(0,d.Q)(e),n=(0,d.Q)(t);return s.getFullYear()-n.getFullYear()}(t,e),n=new Date(t.getFullYear(),e.getMonth(),e.getDate());n>t&&n.setFullYear(n.getFullYear()-1);let a=function(e,t){let s=(0,d.Q)(e),n=(0,d.Q)(t),a=h(s,n),l=Math.abs((0,c.w)(s,n));s.setDate(s.getDate()-a*l);let i=Number(h(s,n)===-a),r=a*(l-i);return 0===r?0:r}(t,n);return{years:s,months:function(e,t){let s;let n=(0,d.Q)(e),a=(0,d.Q)(t),l=x(n,a),i=Math.abs(function(e,t){let s=(0,d.Q)(e),n=(0,d.Q)(t);return 12*(s.getFullYear()-n.getFullYear())+(s.getMonth()-n.getMonth())}(n,a));if(i<1)s=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*i);let t=x(n,a)===-l;(function(e){let t=(0,d.Q)(e);return+function(e){let t=(0,d.Q)(e);return t.setHours(23,59,59,999),t}(t)==+function(e){let t=(0,d.Q)(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}(t)})((0,d.Q)(e))&&1===i&&1===x(e,a)&&(t=!1),s=l*(i-Number(t))}return 0===s?0:s}(t,n),days:a}};var u=s(3474);let g=({pasien:e})=>{let{years:t,months:s,days:a}=m(new Date(e?.tanggalLahir));return n.jsx("div",{className:"card text-info-content border",children:n.jsx("div",{className:"card-body",children:(0,n.jsxs)("table",{className:"table table-zebra table-sm",children:[n.jsx("thead",{children:n.jsx("tr",{children:(0,n.jsxs)("th",{colSpan:2,className:"text-2xl",children:[e?.namaPasien," (",e?.jenisKelamin,") / ",e?.noRm," "]})})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"TEMPAT TANGGAL LAHIR"}),(0,n.jsxs)("td",{children:[": ",e?.tempatLahir,", ",e?.tanggalLahir&&(0,u.WU)(e?.tanggalLahir,"dd/MM/yyyy")," "]}),n.jsx("th",{children:"UMUR"}),(0,n.jsxs)("td",{children:[": ",`${t} Tahun ${s} Bulan ${a} Hari`]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"NIK"}),(0,n.jsxs)("td",{children:[": ",e?.nik]}),n.jsx("th",{children:"NO. BPJS"}),(0,n.jsxs)("td",{children:[": ",e?.bpjs]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"WARGANEGARA"}),(0,n.jsxs)("td",{children:[": ",e?.wargaNegara]}),n.jsx("th",{children:"PASPOR"}),(0,n.jsxs)("td",{children:[": ",e?.paspor]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"STATUS PERNIKAHAN"}),(0,n.jsxs)("td",{children:[": ",e?.statusMenikah.replace("_"," ")]}),n.jsx("th",{children:"AGAMA"}),(0,n.jsxs)("td",{children:[": ",e?.agama]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"PEKERJAAN"}),(0,n.jsxs)("td",{children:[": ",e?.pekerjaan.replace("_"," ")]}),n.jsx("th",{children:"KOTA"}),(0,n.jsxs)("td",{children:[": ",e?.kota]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"KELURAHAN"}),(0,n.jsxs)("td",{children:[": ",e?.kelurahan]}),n.jsx("th",{children:"KECAMATAN"}),(0,n.jsxs)("td",{children:[": ",e?.kecamatan]})]}),(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"ALAMAT"}),(0,n.jsxs)("td",{colSpan:3,children:[": ",e?.alamat]})]})]})]})})})};var j=s(90434);let p=({session:e,params:t})=>n.jsx(n.Fragment,{children:e?.user.role==="admin"||e?.user.role==="admisi"?(0,n.jsxs)("ul",{className:"menu menu-xs menu-horizontal space-x-2 bg-base-300 rounded self-end",children:[n.jsx("li",{children:(0,n.jsxs)(j.default,{href:`/klinik/pasien/registrasi/${t.id}`,className:"btn btn-xs",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:n.jsx("path",{fillRule:"evenodd",d:"M11.013 2.513a1.75 1.75 0 0 1 2.475 2.474L6.226 12.25a2.751 2.751 0 0 1-.892.596l-2.047.848a.75.75 0 0 1-.98-.98l.848-2.047a2.75 2.75 0 0 1 .596-.892l7.262-7.261Z",clipRule:"evenodd"})}),"Pendaftaran"]})}),n.jsx("li",{children:(0,n.jsxs)(j.default,{href:`/klinik/pendaftaran/riwayat/${t.id}`,className:"btn btn-xs",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[n.jsx("path",{d:"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"}),n.jsx("path",{fillRule:"evenodd",d:"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z",clipRule:"evenodd"})]}),"Riwayat Pendaftaran"]})})]}):n.jsx("ul",{className:"menu menu-xs menu-horizontal space-x-2 bg-base-300 rounded self-end",children:n.jsx("li",{children:(0,n.jsxs)(j.default,{href:`/klinik/pendaftaran/riwayat/${t.id}`,className:"btn btn-xs",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[n.jsx("path",{d:"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"}),n.jsx("path",{fillRule:"evenodd",d:"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z",clipRule:"evenodd"})]}),"Riwayat Pendaftaran"]})})})}),b=()=>{let{register:e,handleSubmit:t,formState:{errors:s}}=(0,l.cI)(),[d,c]=(0,a.useState)(!1),{data:h}=(0,r.useSession)(),[x,u]=(0,a.useState)(),[j,b]=(0,a.useState)(),v=t(async e=>{c(!0);try{let t=await fetch("/api/pasien/findby",{method:"POST",body:JSON.stringify({findBy:e.type,idFasyankes:h?.user.idFasyankes,value:e.input}),headers:{"Content-Type":"application/json"}}),s=await t.json();s&&0!==s.length?s.length>0?(b([...s]),document.getElementById("modal-pasien-list").showModal()):(u(s),document.getElementById("modal-pasien-satuan").showModal()):(0,i.o)({icon:"error",title:"Data tidak ditemukan!"})}catch(e){(0,i.o)({icon:"error",title:e.message}),console.log(e.message)}c(!1)});return(0,n.jsxs)("div",{children:[n.jsx("form",{onSubmit:v,className:"flex justify-end",children:(0,n.jsxs)("div",{className:"join",children:[n.jsx("div",{children:(0,n.jsxs)("div",{children:[n.jsx("input",{...e("input",{required:"* Masukan text!"}),className:"input input-primary input-sm join-item",placeholder:"Cari pasien lainnya"}),s.input&&n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text-alt text-error",children:s.input.message})})]})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("select",{...e("type",{required:"* Pilih dulu!"}),className:"select select-sm select-primary join-item",children:[n.jsx("option",{value:"norm",children:"By RM"}),n.jsx("option",{value:"nik",children:"By NIK"}),n.jsx("option",{value:"nobpjs",children:"By BPJS"}),n.jsx("option",{value:"namapasien",children:"By NAMA"}),n.jsx("option",{value:"nohp",children:"By HP"})]}),s.type&&n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text-alt text-error",children:s.type.message})})]}),d?(0,n.jsxs)("button",{className:"btn btn-sm btn-primary join-item",children:[n.jsx("span",{className:"loading loading-spinner"}),"Loading"]}):n.jsx("button",{className:"btn btn-sm btn-primary join-item ",children:"Cari"})]})}),n.jsx("dialog",{id:"modal-pasien-list",className:"modal",children:(0,n.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl",children:[n.jsx("form",{method:"dialog",children:n.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),n.jsx("div",{className:"mt-3",children:n.jsx(o.Z,{message:"List Pasien Ditemukan"})}),n.jsx("div",{className:"flex flex-col gap-2 mt-2",children:j?.map(e=>n.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[n.jsx("input",{type:"checkbox"}),n.jsxs("div",{className:"collapse-title text-xl font-medium",children:[e.namaPasien," (",e.jenisKelamin,") / ",e.noRm," / ",m(new Date(e?.tanggalLahir)).years," Tahun"]}),n.jsxs("div",{className:"collapse-content flex flex-col gap-2",children:[n.jsx("div",{className:"self-end",children:n.jsx(p,{session:h,params:{id:e.id?.toString()}})}),n.jsx(g,{pasien:e})]})]},e.id))})]})}),n.jsx("dialog",{id:"modal-pasien-satuan",className:"modal",children:(0,n.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl",children:[n.jsx("form",{method:"dialog",children:n.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),n.jsx("div",{className:"mt-3",children:n.jsx(o.Z,{message:"List Pasien Ditemukan"})}),(0,n.jsxs)("p",{className:"bg-base-200 mt-2 rounded text-xl mb-2 font-medium p-3",children:[x?.namaPasien," (",x?.jenisKelamin,") / ",x?.noRm," / ",x?.tanggalLahir&&m(new Date(x.tanggalLahir)).years," Tahun"]}),n.jsx("div",{className:"self-end mb-2 flex flex-col",children:n.jsx(p,{session:h,params:{id:x?.id?.toString()}})}),n.jsx(g,{pasien:x})]})})]})}},76201:(e,t,s)=>{s.d(t,{default:()=>c});var n=s(10326),a=s(86508),l=s(11798),i=s(5606),r=s(17577);let o=(e,t,s,n)=>{let a=(0,i.O4)(e.getValue(t),s);return n({itemRank:a}),a.passed};function d({value:e,onChange:t,debounce:s=500,...a}){let[l,i]=(0,r.useState)(e);return n.jsx("input",{...a,value:l,onChange:e=>i(e.target.value)})}let c=function({rowsData:e,columnsData:t}){let[s,i]=(0,r.useState)(""),c=(0,r.useMemo)(()=>t,[t]),h=(0,a.b7)({data:e,columns:c,state:{globalFilter:s},onGlobalFilterChange:i,globalFilterFn:o,getCoreRowModel:(0,l.sC)(),getFilteredRowModel:(0,l.vL)(),getSortedRowModel:(0,l.tj)(),getPaginationRowModel:(0,l.G_)(),getFacetedRowModel:(0,l.o6)(),getFacetedUniqueValues:(0,l.JG)()});return(0,n.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full p-2",children:[n.jsx(d,{value:s??"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>i(String(e)),placeholder:`Cari dari total ${h.getPrePaginationRowModel().rows.length} data`}),(0,n.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[n.jsx("thead",{children:h.getHeaderGroups().map(e=>n.jsx("tr",{children:e.headers.map(e=>n.jsx("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,n.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,a.ie)(e.column.columnDef.header,e.getContext()),{asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"}[e.column.getIsSorted()]??null]})},e.id))},e.id))}),n.jsx("tbody",{children:h.getRowModel().rows.map(e=>n.jsx("tr",{children:e.getVisibleCells().map(e=>n.jsx("td",{children:(0,a.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"join",children:[n.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),n.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),n.jsx("button",{className:"join-item btn btn-xs btn-info",children:`Page ${h.getState().pagination.pageIndex+1} of ${h.getPageCount()}`}),n.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),n.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[n.jsx("p",{children:" Go to page:"}),n.jsx("input",{type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:e=>{let t=e.target.value?Number(e.target.value)-1:0;h.setPageIndex(t)},className:"input-xs w-14"})]}),n.jsx("select",{className:"select select-info select-xs",value:h.getState().pagination.pageSize,onChange:e=>{h.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,n.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},32859:(e,t,s)=>{s.d(t,{o:()=>a});var n=s(12919);function a({icon:e,title:t}){n.Z.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n.Z.stopTimer,e.onmouseleave=n.Z.resumeTimer}}).fire({icon:e,title:t})}},97090:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(10326);let a=({message:e})=>(0,n.jsxs)("div",{role:"alert",className:"alert rounded",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:e})]})},49832:(e,t,s)=>{s.d(t,{ZP:()=>r});var n=s(68570);let a=(0,n.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\FilterPasienComponent.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let r=(0,n.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\FilterPasienComponent.tsx#default`)},55886:(e,t,s)=>{s.d(t,{ZP:()=>r});var n=s(68570);let a=(0,n.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\TableFilterComponent.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let r=(0,n.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\TableFilterComponent.tsx#default`)},56106:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(19510);let a=({message:e})=>(0,n.jsxs)("div",{role:"alert",className:"alert rounded",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:e})]})}};