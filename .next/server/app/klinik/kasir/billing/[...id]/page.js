(()=>{var e={};e.id=8782,e.ids=[8782],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},22721:e=>{"use strict";e.exports=require("@react-pdf/renderer")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},47603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o}),r(46948),r(28268),r(44465),r(35866);var i=r(23191),n=r(88716),s=r(37922),a=r.n(s),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["klinik",{children:["kasir",{children:["billing",{children:["[...id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46948)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\fe-klinik\\src\\app\\klinik\\kasir\\billing\\[...id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,28268)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\fe-klinik\\src\\app\\klinik\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44465)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\fe-klinik\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\fe-klinik\\src\\app\\klinik\\kasir\\billing\\[...id]\\page.tsx"],u="/klinik/kasir/billing/[...id]/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/klinik/kasir/billing/[...id]/page",pathname:"/klinik/kasir/billing/[...id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3874:(e,t,r)=>{let i={d312d7458f76950563ece6d87037d9d4c9a1f4fc:()=>Promise.resolve().then(r.bind(r,58709)).then(e=>e.getBillingPasien)};async function n(e,...t){return(await i[e]()).apply(null,t)}e.exports={d312d7458f76950563ece6d87037d9d4c9a1f4fc:n.bind(null,"d312d7458f76950563ece6d87037d9d4c9a1f4fc")}},69050:(e,t,r)=>{Promise.resolve().then(r.bind(r,92563))},33265:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var i=r(43353),n=r.n(i)},46226:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var i=r(69029),n=r.n(i)},90434:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var i=r(79404),n=r.n(i)},43353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let i=r(98052);r(10326),r(17577);let n=i._(r(77028));function s(e,t){var r;let i={loading:e=>{let{error:t,isLoading:r,pastDelay:i}=e;return null}};"function"==typeof e&&(i.loader=e);let s={...i,...t};return(0,n.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return l}});let i=r(98052),n=r(23078),s=r(92481),a=i._(r(86820));function l(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=s.Image},933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let i=r(94129);function n(e){let{reason:t,children:r}=e;throw new i.BailoutToCSRError(t)}},77028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let i=r(10326),n=r(17577),s=r(933),a=r(46618);function l(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},r=(0,n.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,i.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.PreloadCss,{moduleIds:t.modules}),(0,i.jsx)(r,{...e})]}):(0,i.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(r,{...e})});return(0,i.jsx)(n.Suspense,{fallback:l,children:d})}return c.displayName="LoadableComponent",c}},46618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let i=r(10326),n=r(55403);function s(e){let{moduleIds:t}=e,r=(0,n.getExpectedRequestStore)("next/dynamic css"),s=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,i.jsx)(i.Fragment,{children:s.map(e=>(0,i.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},92563:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var i=r(10326),n=r(3474),s=r(97090),a=r(90434),l=r(22721);let d=(0,r(33265).default)(async()=>{},{loadableGenerated:{modules:["app\\klinik\\kasir\\pageclient\\ModalPrintTagihan.tsx -> @react-pdf/renderer"]},ssr:!1,loading:()=>i.jsx("p",{children:"Loading..."})}),o=({tagihan:e})=>{let t=e?.billPasienDetail.reduce((e,t)=>Number(e)+Number(t.subTotal),0),r=l.StyleSheet.create({page:{padding:30},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},companyInfo:{width:"40%"},customerInfo:{textAlign:"right",width:"60%"},logo:{width:100,height:100},title:{fontSize:24,marginBottom:10,textAlign:"center"},item:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#ddd",marginBottom:5,paddingBottom:5},itemName:{width:"70%"},itemPrice:{textAlign:"right",width:"30%"},total:{fontSize:18,marginTop:20},asuransi:{fontSize:13,marginTop:20,fontStyle:"italic",alignSelf:"flex-end"}});return i.jsx("dialog",{id:"modal-print-bill-kasir",className:"modal",children:(0,i.jsxs)("div",{className:"modal-box w-8/12 max-w-2xl",children:[i.jsx("form",{method:"dialog",children:i.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"})}),i.jsx(d,{className:"w-full h-80",children:i.jsx(l.Document,{children:(0,i.jsxs)(l.Page,{style:r.page,children:[i.jsx(l.View,{style:r.header}),i.jsx(l.Text,{style:r.title,children:"Invoice Pasien"}),(0,i.jsxs)(l.View,{style:r.item,children:[i.jsx(l.Text,{style:r.itemName,children:"Item"}),i.jsx(l.Text,{style:r.itemPrice,children:"Sub Total"})]}),e?.billPasienDetail.map(e=>i.jsxs(l.View,{style:r.item,children:[i.jsxs(l.Text,{style:r.itemName,children:[e.deskripsi," ",e.jumlah,"@",e.harga]}),i.jsx(l.Text,{style:r.itemPrice,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(e.subTotal))})]},e.id)),(0,i.jsxs)(l.Text,{style:r.total,children:["Total:"," ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(t))]}),e?.Pendaftaran.penjamin.includes("ASURANSI")&&(0,i.jsxs)(l.Text,{style:r.asuransi,children:["*Biaya ini ditangguhkan oleh : ",e?.Pendaftaran.penjamin]})]})})})]})})};var c=r(17577);r(15424);var u=(0,r(46242).$)("d312d7458f76950563ece6d87037d9d4c9a1f4fc");let p=({dataRegis:e,session:t})=>{let[r,l]=(0,c.useState)(),d=async e=>{l((await u(Number(e))).data),await new Promise(e=>setTimeout(e,2e3)),(document?.getElementById("modal-print-bill-kasir")).showModal()};return(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[i.jsx(s.Z,{message:"List Tagihan Yang Ada!"}),i.jsx("div",{className:"flex flex-wrap gap-2 bg-base-200 p-2 h-full",children:e?.map(e=>i.jsx("div",{className:"card bg-base-100 w-96 shadow-xl",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title",children:n.WU(e.createdAt,"dd/MM/yyyy HH:mm")}),i.jsxs("p",{children:["ID : ",e.billPasien[0].id]}),i.jsxs("p",{children:["PendaftaranID : ",e?.id]}),i.jsxs("p",{children:["Penjamin : ",e?.penjamin]}),i.jsxs("p",{children:["Poli : ",e.riwayat?.doctor?.unit]}),i.jsxs("p",{children:["Dokter : ",e.riwayat?.doctor?.name]}),i.jsxs("div",{className:"card-actions justify-end",children:[i.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>d(e?.id),children:"CETAK TAGIHAN"}),e?.penjamin==="PRIBADI"&&t?.user.role!=="admin"&&i.jsx(a.default,{href:`/klinik/kasir/detail/${e.id}`,className:"btn btn-sm btn-primary",children:"BAYAR"})]})]})},e.id))}),i.jsx(o,{tagihan:r})]})}},97090:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(10326);let n=({message:e})=>(0,i.jsxs)("div",{role:"alert",className:"alert rounded",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:e})]})},69955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var n=r(69955);Object.keys(n).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))});var s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}(r(45609));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e))&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},68273:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(19510),n=r(32796),s=r(32665);let a=({pasien:e})=>{let{years:t,months:r,days:a}=(0,s.F)(new Date(e?.tanggalLahir));return i.jsx("div",{className:"card text-info-content border",children:i.jsx("div",{className:"card-body",children:(0,i.jsxs)("table",{className:"table table-zebra table-sm",children:[i.jsx("thead",{children:i.jsx("tr",{children:(0,i.jsxs)("th",{colSpan:2,className:"text-2xl",children:[e?.namaPasien," (",e?.jenisKelamin,") / ",e?.noRm," "]})})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"TEMPAT TANGGAL LAHIR"}),(0,i.jsxs)("td",{children:[": ",e?.tempatLahir,","," ",e?.tanggalLahir&&(0,n.WU)(e?.tanggalLahir,"dd/MM/yyyy")," "]}),i.jsx("th",{children:"UMUR"}),(0,i.jsxs)("td",{children:[": ",`${t} Tahun ${r} Bulan ${a} Hari`]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"NIK"}),(0,i.jsxs)("td",{children:[": ",e?.nik]}),i.jsx("th",{children:"NO. BPJS"}),(0,i.jsxs)("td",{children:[": ",e?.bpjs]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"WARGANEGARA"}),(0,i.jsxs)("td",{children:[": ",e?.wargaNegara]}),i.jsx("th",{children:"PASPOR"}),(0,i.jsxs)("td",{children:[": ",e?.paspor]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"STATUS PERNIKAHAN"}),(0,i.jsxs)("td",{children:[": ",e?.statusMenikah.replace("_"," ")]}),i.jsx("th",{children:"AGAMA"}),(0,i.jsxs)("td",{children:[": ",e?.agama]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"PEKERJAAN"}),(0,i.jsxs)("td",{children:[": ",e?.pekerjaan.replace("_"," ")]}),i.jsx("th",{children:"KOTA"}),(0,i.jsxs)("td",{children:[": ",e?.kota]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"KELURAHAN"}),(0,i.jsxs)("td",{children:[": ",e?.kelurahan]}),i.jsx("th",{children:"KECAMATAN"}),(0,i.jsxs)("td",{children:[": ",e?.kecamatan]})]}),(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"ALAMAT"}),(0,i.jsxs)("td",{colSpan:3,children:[": ",e?.alamat]})]})]})]})})})}},32665:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var i=r(54987),n=r(25111),s=r(29052);let a=e=>{if(!e)return{years:"",months:"",days:""};let t=new Date,r=(0,i.b)(t,e),a=new Date(t.getFullYear(),e.getMonth(),e.getDate());a>t&&a.setFullYear(a.getFullYear()-1);let l=(0,n.j)(t,a);return{years:r,months:(0,s.d)(t,a),days:l}}},46948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var i=r(19510),n=r(68273),s=r(35089),a=r(75571),l=r(68570);let d=(0,l.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\fe-klinik\src\app\klinik\kasir\components\ListBillingPasien.tsx`),{__esModule:o,$$typeof:c}=d;d.default;let u=(0,l.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\fe-klinik\src\app\klinik\kasir\components\ListBillingPasien.tsx#default`),p=async e=>{try{let t=await fetch(`http://localhost:8000/pasien/byid/${e}`,{headers:{Authorization:"Bearer testing"}});if(!t.ok)return[];return t.json()}catch(e){return console.log(e),[]}},h=async(e,t)=>{try{let r=await fetch(`http://localhost:8000/pasien/riwayatregistrasi/byepisode/${e}/${t}`,{headers:{Authorization:"Bearer testing"}});if(!r.ok)return[];return r.json()}catch(e){return console.log(e),[]}},f=async({params:e})=>{let t=e.id[0],r=e.id[1],l=await (0,a.getServerSession)(s.A),d=await p(t),o=await h(r,l?.user.idFasyankes);return(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[i.jsx(n.Z,{pasien:d}),i.jsx(u,{dataRegis:o,session:l})]})}},58709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getBillingPasien:()=>s});var i=r(27745);r(26461);var n=r(20439);async function s(e){try{let t=await n.default.billPasien.findFirst({where:{pendaftaranId:Number(e)},include:{billPasienDetail:!0,Pendaftaran:!0}});return{status:!0,message:"Berhasil",data:t}}catch(e){return{status:!1,message:e,data:"null"}}}(0,r(85723).ensureServerEntryExports)([s]),(0,i.registerServerReference)("d312d7458f76950563ece6d87037d9d4c9a1f4fc",s)},20439:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var i=r(53524);let n=globalThis.prismaGlobal??new i.PrismaClient}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[8948,5819,6621,2481,2857,9404,3474,517,362,2007],()=>r(47603));module.exports=i})();