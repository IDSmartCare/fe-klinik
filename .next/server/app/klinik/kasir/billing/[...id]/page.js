(()=>{var e={};e.id=8782,e.ids=[8782],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},22721:e=>{"use strict";e.exports=require("@react-pdf/renderer")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},42433:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),r(46948),r(28268),r(44465),r(35866);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["klinik",{children:["kasir",{children:["billing",{children:["[...id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46948)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\kasir\\billing\\[...id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,28268)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44465)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\kasir\\billing\\[...id]\\page.tsx"],u="/klinik/kasir/billing/[...id]/page",h={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/klinik/kasir/billing/[...id]/page",pathname:"/klinik/kasir/billing/[...id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},71725:(e,t,r)=>{let s={ae80afc85bb4ec212b2b8c78cbd18368546a92a7:()=>Promise.resolve().then(r.bind(r,58709)).then(e=>e.getBillingPasien)};async function i(e,...t){return(await s[e]()).apply(null,t)}e.exports={ae80afc85bb4ec212b2b8c78cbd18368546a92a7:i.bind(null,"ae80afc85bb4ec212b2b8c78cbd18368546a92a7")}},52991:(e,t,r)=>{Promise.resolve().then(r.bind(r,92563))},33265:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var s=r(43353),i=r.n(s)},90434:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var s=r(79404),i=r.n(s)},43353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(98052);r(10326),r(17577);let i=s._(r(77028));function a(e,t){var r;let s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,i.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let s=r(94129);function i(e){let{reason:t,children:r}=e;throw new s.BailoutToCSRError(t)}},77028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let s=r(10326),i=r(17577),a=r(933),n=r(46618);function l(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},r=(0,i.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.PreloadCss,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(i.Suspense,{fallback:l,children:d})}return c.displayName="LoadableComponent",c}},46618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let s=r(10326),i=r(55403);function a(e){let{moduleIds:t}=e,r=(0,i.getExpectedRequestStore)("next/dynamic css"),a=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,s.jsx)(s.Fragment,{children:a.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},92563:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var s=r(10326),i=r(3474),a=r(97090),n=r(90434),l=r(22721);let d=(0,r(33265).default)(async()=>{},{loadableGenerated:{modules:["app\\klinik\\kasir\\pageclient\\ModalPrintTagihan.tsx -> @react-pdf/renderer"]},ssr:!1,loading:()=>s.jsx("p",{children:"Loading..."})}),o=({tagihan:e})=>{let t=e?.billPasienDetail.reduce((e,t)=>Number(e)+Number(t.subTotal),0),r=l.StyleSheet.create({page:{padding:30},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},companyInfo:{width:"40%"},customerInfo:{textAlign:"right",width:"60%"},logo:{width:100,height:100},title:{fontSize:24,marginBottom:10,textAlign:"center"},item:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#ddd",marginBottom:5,paddingBottom:5},itemName:{width:"70%"},itemPrice:{textAlign:"right",width:"30%"},total:{fontSize:18,marginTop:20}});return s.jsx("dialog",{id:"modal-print-bill-kasir",className:"modal",children:(0,s.jsxs)("div",{className:"modal-box w-8/12 max-w-2xl",children:[s.jsx("form",{method:"dialog",children:s.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"})}),s.jsx(d,{className:"w-full h-80",children:s.jsx(l.Document,{children:(0,s.jsxs)(l.Page,{style:r.page,children:[s.jsx(l.View,{style:r.header}),s.jsx(l.Text,{style:r.title,children:"Invoice Pasien"}),(0,s.jsxs)(l.View,{style:r.item,children:[s.jsx(l.Text,{style:r.itemName,children:"Item"}),s.jsx(l.Text,{style:r.itemPrice,children:"Sub Total"})]}),e?.billPasienDetail.map(e=>s.jsxs(l.View,{style:r.item,children:[s.jsxs(l.Text,{style:r.itemName,children:[e.deskripsi," ",e.jumlah,"@",e.harga]}),s.jsx(l.Text,{style:r.itemPrice,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(e.subTotal))})]},e.id)),(0,s.jsxs)(l.Text,{style:r.total,children:["Total: ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(t))]})]})})})]})})};var c=r(17577);r(15424);var u=(0,r(46242).$)("ae80afc85bb4ec212b2b8c78cbd18368546a92a7");let h=({dataRegis:e,session:t})=>{let[r,l]=(0,c.useState)(),d=async e=>{l((await u(Number(e))).data),await new Promise(e=>setTimeout(e,2e3)),(document?.getElementById("modal-print-bill-kasir")).showModal()};return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx(a.Z,{message:"List Tagihan Yang Ada!"}),s.jsx("div",{className:"flex flex-wrap gap-2 bg-base-200 p-2 h-full",children:e?.map(e=>s.jsx("div",{className:"card bg-base-100 w-96 shadow-xl",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:i.WU(e.createdAt,"dd/MM/yyyy HH:mm")}),s.jsxs("p",{children:["ID : ",e.billPasien[0].id]}),s.jsxs("p",{children:["PendaftaranID : ",e?.id]}),s.jsxs("p",{children:["Penjamin : ",e?.penjamin]}),s.jsxs("p",{children:["Poli : ",e.jadwal?.dokter.poliklinik?.namaPoli]}),s.jsxs("p",{children:["Dokter : ",e.jadwal?.dokter.namaLengkap]}),s.jsxs("div",{className:"card-actions justify-end",children:[s.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>d(e?.id),children:"CETAK TAGIHAN"}),e?.penjamin==="PRIBADI"&&t?.user.role!=="admin"&&s.jsx(n.default,{href:`/klinik/kasir/detail/${e.id}`,className:"btn btn-sm btn-primary",children:"BAYAR"})]})]})},e.id))}),s.jsx(o,{tagihan:r})]})}},97090:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(10326);let i=({message:e})=>(0,s.jsxs)("div",{role:"alert",className:"alert rounded",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:e})]})},68273:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(19510),i=r(32796),a=r(32665);let n=({pasien:e})=>{let{years:t,months:r,days:n}=(0,a.F)(new Date(e?.tanggalLahir));return s.jsx("div",{className:"card text-info-content border",children:s.jsx("div",{className:"card-body",children:(0,s.jsxs)("table",{className:"table table-zebra table-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:(0,s.jsxs)("th",{colSpan:2,className:"text-2xl",children:[e?.namaPasien," (",e?.jenisKelamin,") / ",e?.noRm," "]})})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"TEMPAT TANGGAL LAHIR"}),(0,s.jsxs)("td",{children:[": ",e?.tempatLahir,", ",e?.tanggalLahir&&(0,i.WU)(e?.tanggalLahir,"dd/MM/yyyy")," "]}),s.jsx("th",{children:"UMUR"}),(0,s.jsxs)("td",{children:[": ",`${t} Tahun ${r} Bulan ${n} Hari`]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"NIK"}),(0,s.jsxs)("td",{children:[": ",e?.nik]}),s.jsx("th",{children:"NO. BPJS"}),(0,s.jsxs)("td",{children:[": ",e?.bpjs]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"WARGANEGARA"}),(0,s.jsxs)("td",{children:[": ",e?.wargaNegara]}),s.jsx("th",{children:"PASPOR"}),(0,s.jsxs)("td",{children:[": ",e?.paspor]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"STATUS PERNIKAHAN"}),(0,s.jsxs)("td",{children:[": ",e?.statusMenikah.replace("_"," ")]}),s.jsx("th",{children:"AGAMA"}),(0,s.jsxs)("td",{children:[": ",e?.agama]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"PEKERJAAN"}),(0,s.jsxs)("td",{children:[": ",e?.pekerjaan.replace("_"," ")]}),s.jsx("th",{children:"KOTA"}),(0,s.jsxs)("td",{children:[": ",e?.kota]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"KELURAHAN"}),(0,s.jsxs)("td",{children:[": ",e?.kelurahan]}),s.jsx("th",{children:"KECAMATAN"}),(0,s.jsxs)("td",{children:[": ",e?.kecamatan]})]}),(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"ALAMAT"}),(0,s.jsxs)("td",{colSpan:3,children:[": ",e?.alamat]})]})]})]})})})}},32665:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(54987),i=r(25111),a=r(29052);let n=e=>{if(!e)return{years:"",months:"",days:""};let t=new Date,r=(0,s.b)(t,e),n=new Date(t.getFullYear(),e.getMonth(),e.getDate());n>t&&n.setFullYear(n.getFullYear()-1);let l=(0,i.j)(t,n);return{years:r,months:(0,a.d)(t,n),days:l}}},46948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(19510),i=r(68273),a=r(35089),n=r(75571),l=r(68570);let d=(0,l.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\kasir\components\ListBillingPasien.tsx`),{__esModule:o,$$typeof:c}=d;d.default;let u=(0,l.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\kasir\components\ListBillingPasien.tsx#default`),h=async e=>{try{let t=await fetch(`http://localhost:8000/pasien/byid/${e}`,{headers:{Authorization:"Bearer testing"}});if(!t.ok)return[];return t.json()}catch(e){return console.log(e),[]}},x=async(e,t)=>{try{let r=await fetch(`http://localhost:8000/pasien/riwayatregistrasi/byepisode/${e}/${t}`,{headers:{Authorization:"Bearer testing"}});if(!r.ok)return[];return r.json()}catch(e){return console.log(e),[]}},p=async({params:e})=>{let t=e.id[0],r=e.id[1],l=await (0,n.getServerSession)(a.A),d=await h(t),o=await x(r,l?.user.idFasyankes);return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx(i.Z,{pasien:d}),s.jsx(u,{dataRegis:o,session:l})]})}},58709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getBillingPasien:()=>a});var s=r(27745);r(26461);var i=r(20439);async function a(e){try{let t=await i.default.billPasien.findFirst({where:{pendaftaranId:Number(e)},include:{billPasienDetail:!0}});return{status:!0,message:"Berhasil",data:t}}catch(e){return{status:!1,message:e,data:"null"}}}(0,r(85723).ensureServerEntryExports)([a]),(0,s.registerServerReference)("ae80afc85bb4ec212b2b8c78cbd18368546a92a7",a)},20439:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(53524);let i=globalThis.prismaGlobal??new s.PrismaClient}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5819,3838,2857,2481,3474,5194,362,2121],()=>r(42433));module.exports=s})();