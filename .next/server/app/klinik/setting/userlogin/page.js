(()=>{var e={};e.id=3488,e.ids=[3488],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},2903:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(46568),s(28268),s(44465),s(35866);var t=s(23191),r=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(a,o);let d=["",{children:["klinik",{children:["setting",{children:["userlogin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46568)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\setting\\userlogin\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,28268)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,44465)),"E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Adis\\Development\\_KANTOR\\Core ID Smart Care\\CMS LOCAL TEST\\fe-klinik\\src\\app\\klinik\\setting\\userlogin\\page.tsx"],u="/klinik/setting/userlogin/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/klinik/setting/userlogin/page",pathname:"/klinik/setting/userlogin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32738:(e,a,s)=>{let t={"6f6780ab8affa6855328ffd3065653253c5c9a49":()=>Promise.resolve().then(s.bind(s,60031)).then(e=>e.createUser),"8ef90cebf788b1b27efdf909ff799073217886df":()=>Promise.resolve().then(s.bind(s,60031)).then(e=>e.checkUserExistsByRole),dff75fe81ed5d1b5691dac5df87cb8469fb8bb99:()=>Promise.resolve().then(s.bind(s,60031)).then(e=>e.deleteUser)};async function r(e,...a){return(await t[e]()).apply(null,a)}e.exports={"6f6780ab8affa6855328ffd3065653253c5c9a49":r.bind(null,"6f6780ab8affa6855328ffd3065653253c5c9a49"),"8ef90cebf788b1b27efdf909ff799073217886df":r.bind(null,"8ef90cebf788b1b27efdf909ff799073217886df"),dff75fe81ed5d1b5691dac5df87cb8469fb8bb99:r.bind(null,"dff75fe81ed5d1b5691dac5df87cb8469fb8bb99")}},80325:(e,a,s)=>{Promise.resolve().then(s.bind(s,76201)),Promise.resolve().then(s.bind(s,15399)),Promise.resolve().then(s.bind(s,64642))},35047:(e,a,s)=>{"use strict";var t=s(77389);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},32060:(e,a,s)=>{"use strict";s.d(a,{ZP:()=>i});var t=s(36302),r=s(45353),l=s(17577),n=s(60922);s(77865),s(19742),s(35895),s(2718),s(68326),s(42706),s(59356),s(33073),s(84653),s(12054),s(72012),s(61092),s(60962),s(29565);var i=(0,l.forwardRef)(function(e,a){var s=(0,t.u)(e);return l.createElement(n.S,(0,r.Z)({ref:a},s))})},17215:(e,a,s)=>{"use strict";s.d(a,{Z:()=>l,q:()=>t});var t,r=s(10326);!function(e){e.add="add",e.info="info"}(t||(t={}));let l=({modalname:e,title:a,icon:s})=>{let t=()=>{document.getElementById(e).showModal()};return r.jsx("div",{children:(0,r.jsxs)("button",{onClick:()=>t(),className:"btn btn-xs btn-primary",children:["add"===s?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:r.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.75-10.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z",clipRule:"evenodd"})}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",children:[r.jsx("path",{d:"M4.038 4.038a5.25 5.25 0 0 0 0 7.424.75.75 0 0 1-1.06 1.061A6.75 6.75 0 1 1 14.5 7.75a.75.75 0 1 1-1.5 0 5.25 5.25 0 0 0-8.962-3.712Z"}),r.jsx("path",{d:"M7.712 7.136a.75.75 0 0 1 .814.302l2.984 4.377a.75.75 0 0 1-.726 1.164l-.76-.109.289 1.075a.75.75 0 0 1-1.45.388l-.287-1.075-.602.474a.75.75 0 0 1-1.212-.645l.396-5.283a.75.75 0 0 1 .554-.668Z"}),r.jsx("path",{d:"M5.805 9.695A2.75 2.75 0 1 1 10.5 7.75a.75.75 0 0 0 1.5 0 4.25 4.25 0 1 0-7.255 3.005.75.75 0 1 0 1.06-1.06Z"})]}),a]})})}},76201:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var t=s(10326),r=s(86508),l=s(11798),n=s(5606),i=s(17577);let o=(e,a,s,t)=>{let r=(0,n.O4)(e.getValue(a),s);return t({itemRank:r}),r.passed};function d({value:e,onChange:a,debounce:s=500,...r}){let[l,n]=(0,i.useState)(e);return t.jsx("input",{...r,value:l,onChange:e=>n(e.target.value)})}let c=function({rowsData:e,columnsData:a}){let[s,n]=(0,i.useState)(""),c=(0,i.useMemo)(()=>a,[a]),u=(0,r.b7)({data:e||[],columns:c,state:{globalFilter:s},onGlobalFilterChange:n,globalFilterFn:o,getCoreRowModel:(0,l.sC)(),getFilteredRowModel:(0,l.vL)(),getSortedRowModel:(0,l.tj)(),getPaginationRowModel:(0,l.G_)(),getFacetedRowModel:(0,l.o6)(),getFacetedUniqueValues:(0,l.JG)()});return(0,t.jsxs)("div",{className:"overflow-x-auto gap-2 flex flex-col h-full py-2",children:[t.jsx(d,{value:s??"",className:"input input-info input-sm max-w-xs self-end",onChange:e=>n(String(e)),placeholder:`Cari dari total ${u.getPrePaginationRowModel().rows.length} data`}),(0,t.jsxs)("table",{className:"table table-sm text-center table-pin-cols",children:[t.jsx("thead",{children:u.getHeaderGroups().map(e=>t.jsx("tr",{children:e.headers.map(e=>t.jsx("th",{className:"bg-base-200",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,t.jsxs)("button",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),onKeyDown:e.column.getToggleSortingHandler(),children:[(0,r.ie)(e.column.columnDef.header,e.getContext()),{asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"}[e.column.getIsSorted()]??null]})},e.id))},e.id))}),t.jsx("tbody",{children:u.getRowModel().rows.map(e=>t.jsx("tr",{children:e.getVisibleCells().map(e=>t.jsx("td",{children:(0,r.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"join",children:[t.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>u.setPageIndex(0),disabled:!u.getCanPreviousPage(),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),t.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>u.previousPage(),disabled:!u.getCanPreviousPage(),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),t.jsx("button",{className:"join-item btn btn-xs btn-info",children:`Page ${u.getState().pagination.pageIndex+1} of ${u.getPageCount()}`}),t.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>u.nextPage(),disabled:!u.getCanNextPage(),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),t.jsx("button",{className:"join-item btn btn-xs btn-info",onClick:()=>u.setPageIndex(u.getPageCount()-1),disabled:!u.getCanNextPage(),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx("p",{children:" Go to page :"}),t.jsx("input",{type:"number",defaultValue:u.getState().pagination.pageIndex+1,onChange:e=>{let a=e.target.value?Number(e.target.value)-1:0;u.setPageIndex(a)},className:"input-xs w-14"})]}),t.jsx("select",{className:"select select-info select-xs",value:u.getState().pagination.pageSize,onChange:e=>{u.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map(e=>(0,t.jsxs)("option",{value:e,children:["Show ",e]},e))})]})]})}},32859:(e,a,s)=>{"use strict";s.d(a,{o:()=>r});var t=s(12919);function r({icon:e,title:a}){t.Z.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=t.Z.stopTimer,e.onmouseleave=t.Z.resumeTimer}}).fire({icon:e,title:a})}},64642:(e,a,s)=>{"use strict";s.d(a,{default:()=>r});let t=(0,s(11798).Cl)(),r=[t.accessor(e=>e.id_profile,{cell:e=>e.getValue(),header:"ID"}),t.accessor(e=>e.username,{cell:e=>e.getValue(),header:"Username"}),t.accessor(e=>e.role,{cell:e=>e.getValue(),header:"Role"}),t.accessor(e=>e?.detail?.namaLengkap,{cell:e=>e.getValue(),header:"Nama"}),t.accessor(e=>e.detail?.poliklinik?.namaPoli,{cell:e=>e.getValue(),header:"Poliklinik"}),t.accessor(e=>e.detail?.str,{cell:e=>e.getValue(),header:"STR"}),t.accessor(e=>e.detail?.sip,{cell:e=>e.getValue(),header:"SIP"})]},15399:(e,a,s)=>{"use strict";s.d(a,{default:()=>f});var t=s(10326),r=s(17215),l=s(17577),n=s(74723),i=s(32060);s(15424);var o=s(46242),d=(0,o.$)("8ef90cebf788b1b27efdf909ff799073217886df"),c=(0,o.$)("6f6780ab8affa6855328ffd3065653253c5c9a49"),u=(0,o.$)("dff75fe81ed5d1b5691dac5df87cb8469fb8bb99"),p=s(32859),m=s(66802),x=s(35047);let f=({session:e})=>{let{register:a,handleSubmit:s,formState:{errors:o},reset:f,control:h,setError:g}=(0,n.cI)(),b=(0,l.useId)(),k=(0,x.useRouter)(),[j,v]=(0,l.useState)(!1),[w,N]=(0,l.useState)([]),[y,C]=(0,l.useState)("");(0,l.useEffect)(()=>{(async function(){let a=await fetch(`/api/paramedis/findallpoli?idFasyankes=${e?.user.idFasyankes}`);if(!a.ok){N([]);return}N([...(await a.json()).map(e=>({label:e.namaPoli,value:e.id}))])})()},[e?.user.idFasyankes]);let P=async a=>{if(e?.user.package==="FREE"){let s=a.role.value;if(await d(s,e?.user.idFasyankes)>=1)return(0,p.o)({icon:"error",title:`Paket FREE hanya mengizinkan 1 pengguna untuk role ${a.role.label}.`})}else if(e?.user.package==="Plus"&&e?.user.type==="Klinik"){let s=a.role.value;if(await d(s,e?.user.idFasyankes)>=4)return(0,p.o)({icon:"error",title:`Paket PLUS hanya mengizinkan 4 pengguna untuk role ${a.role.label}.`})}let s=await c(a,e?.user.idFasyankes);if(s.status){let t={username:a.username,password:a.password,password_confirmation:a.confirmPassword,created_by:a.createdBy,role:a.role.value,fasyankes_id:e?.user.idFasyankes,id_profile:s.data?.id},r=await (0,m.n)({url:"access-fasyankes/store",data:t});if(r.status){if("dokter"===a.role.value){let t={idFasyankes:e?.user.idFasyankes,idProfile:s.data?.id,name:a.namaLengkap,str:a.str,sip:a.sip,phone:a.phone,unit:y,idPoliKlinik:Number(a.poliklinik?.value)||null};if(!(await fetch("/api/dokter/tambahdokter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok){(0,p.o)({icon:"error",title:"Gagal Menambahkan User"});return}}(0,p.o)({icon:"success",title:r.message}),f(),setTimeout(()=>k.refresh(),1e3)}else await u(s.data?.id.toString()),(0,p.o)({icon:"error",title:"Gagal Menambahkan User"}),r.errors&&Object.keys(r.errors).forEach(e=>{g(e,{type:"api",message:r.errors[e]})})}else(0,p.o)({icon:"error",title:"Gagal Menambahkan User"})},S=e=>{e.target.value&&("dokter"===e.target.value.value?v(!0):v(!1))};return(0,t.jsxs)("div",{className:"self-end",children:[t.jsx(r.Z,{icon:r.q.add,modalname:"add-user",title:"User Baru"}),t.jsx("dialog",{id:"add-user",className:"modal",children:(0,t.jsxs)("div",{className:"modal-box w-8/12 max-w-3xl h-screen",children:[t.jsx("form",{method:"dialog",children:t.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),t.jsx("h3",{className:"font-bold text-lg",children:"Tambah User Baru"}),(0,t.jsxs)("form",{onSubmit:s(P),className:"flex flex-col gap-2 mt-5",children:[(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Username"})}),t.jsx("input",{type:"text",...a("username",{required:"*Tidak boleh kosong"}),className:"input input-primary w-full input-sm"}),o.username&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.username.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Password"})}),t.jsx("input",{type:"password",...a("password",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.password&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.password.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Password Confirm"})}),t.jsx("input",{type:"password",...a("confirmPassword",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.confirmPassword&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.confirmPassword.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Role"})}),t.jsx(n.Qr,{name:"role",control:h,rules:{required:"*Tidak boleh kosong",onChange:e=>S(e)},render:({field:a})=>t.jsx(i.ZP,{...a,instanceId:b,className:"w-full",isClearable:!0,options:e?.user.type==="Apotek"?[{value:"kasir",label:"Kasir"}]:[{value:"admin",label:"Admin"},{value:"admisi",label:"Pendaftaran"},{value:"dokter",label:"Dokter"},{value:"perawat",label:"Perawat"},{value:"farmasi",label:"Farmasi"},{value:"kasir",label:"Kasir"}]})}),o.role&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.role.message?.toString()})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Created By"})}),t.jsx("input",{type:"text",...a("createdBy",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.createdBy&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.createdBy.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Nama Lengkap"})}),t.jsx("input",{type:"text",...a("namaLengkap",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.namaLengkap&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.namaLengkap.message})})]}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Nomor Telepon"})}),t.jsx("input",{type:"number",...a("phone",{required:"*Tidak boleh kosong",minLength:{value:10,message:"Minimal 10 angka"},maxLength:{value:16,message:"Maksimal 16 angka"}}),className:"input input-sm input-primary w-full"}),o.phone&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.phone.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Pilih Poli Dokter"})}),t.jsx(n.Qr,{name:"poliklinik",control:h,rules:{required:"*Tidak boleh kosong"},render:({field:e})=>(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx(i.ZP,{...e,isClearable:!0,placeholder:"Pilih poli dokter",instanceId:b,options:w,onChange:a=>{e.onChange(a),C(a?.label||"")}}),o.poliklinik&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.poliklinik.message})})]})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"Kode Dokter"})}),t.jsx("input",{type:"text",...a("kodedokter",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.kodedokter&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.kodedokter.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"STR"})}),t.jsx("input",{type:"text",...a("str",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.str&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.str.message})})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:"SIP"})}),t.jsx("input",{type:"text",...a("sip",{required:"*Tidak boleh kosong"}),className:"input input-sm input-primary w-full "}),o.sip&&t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text-alt text-error",children:o.sip.message})})]})]}),e?.user.role!=="tester"&&t.jsx("button",{className:"btn btn-primary btn-block btn-sm mt-4",children:"Simpan"})]})]})})]})}},66802:(e,a,s)=>{"use strict";s.d(a,{P:()=>t,n:()=>r});let t=async({url:e})=>{try{let a=await fetch(`http://localhost:8001/api/${e}`,{headers:{"Content-Type":"application/json",Authorization:"IDsM4RtcaR32024*@>"}});if(!a.ok)return console.error(`Error: ${a.status} - ${a.statusText}`),null;return await a.json()}catch(e){return console.error("Failed to fetch data:",e),null}},r=async({url:e,data:a})=>{try{let s=await fetch(`http://localhost:8001/api/${e}`,{headers:{"Content-Type":"application/json",Authorization:"IDsM4RtcaR32024*@>"},method:"POST",body:JSON.stringify(a)});return await s.json()}catch(e){return null}}},55886:(e,a,s)=>{"use strict";s.d(a,{ZP:()=>i});var t=s(68570);let r=(0,t.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\TableFilterComponent.tsx`),{__esModule:l,$$typeof:n}=r;r.default;let i=(0,t.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\components\TableFilterComponent.tsx#default`)},56106:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});var t=s(19510);let r=({message:e})=>(0,t.jsxs)("div",{role:"alert",className:"alert rounded",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:e})]})},46568:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>j});var t=s(19510),r=s(55886),l=s(56106),n=s(75571),i=s(35089);let o=async({url:e})=>{try{let a=await fetch(`http://localhost:8001/api/${e}`,{headers:{"Content-Type":"application/json",Authorization:"IDsM4RtcaR32024*@>"}});if(!a.ok)return console.error(`Error: ${a.status} - ${a.statusText}`),null;return await a.json()}catch(e){return console.error("Failed to fetch data:",e),null}};var d=s(73475),c=s(68570);let u=(0,c.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\setting\userlogin\UserTableColumn.tsx`),{__esModule:p,$$typeof:m}=u;u.default;let x=(0,c.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\setting\userlogin\UserTableColumn.tsx#default`),f=(0,c.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\setting\userlogin\pageclient\ModalAddUser.tsx`),{__esModule:h,$$typeof:g}=f;f.default;let b=(0,c.createProxy)(String.raw`E:\Adis\Development\_KANTOR\Core ID Smart Care\CMS LOCAL TEST\fe-klinik\src\app\klinik\setting\userlogin\pageclient\ModalAddUser.tsx#default`),k=async e=>{try{let a=await o({url:`list-username?fasyankes_id=${e}`}),s=a?.data,t=s.map(e=>Number(e.id_profile)),r=await d.Z.profile.findMany({where:{id:{in:t}},include:{poliklinik:{select:{namaPoli:!0}}}});return s.map(e=>({...e,detail:r.find(a=>a.id===Number(e.id_profile))}))}catch(e){return[]}},j=async()=>{let e=await (0,n.getServerSession)(i.A),a=await k(e?.user.idFasyankes);return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[t.jsx(l.Z,{message:"List User Login"}),t.jsx(b,{session:e}),t.jsx(r.ZP,{rowsData:a,columnsData:x})]})}},60031:(e,a,s)=>{"use strict";s.r(a),s.d(a,{checkUserExistsByRole:()=>o,createUser:()=>n,deleteUser:()=>i});var t=s(27745);s(26461);var r=s(20439),l=s(30207);async function n(e,a){try{let s=await r.default.profile.create({data:{namaLengkap:e.namaLengkap,profesi:e.role.value.toUpperCase(),kodeDokter:e?.kodedokter??null,unit:e.role.value.toUpperCase(),poliKlinikId:Number(e.poliklinik?.value)||null,idFasyankes:a,str:e.str,sip:e.sip}});return(0,l.revalidatePath)("/klinik/setting/userlogin"),{status:!0,message:"Berhasil tersimpan",data:s}}catch(e){return console.log(e),{status:!1,message:e,data:null}}}async function i(e){try{return await r.default.profile.delete({where:{id:Number(e)}}),(0,l.revalidatePath)("/klinik/setting/userlogin"),{status:!0,message:"User berhasil dihapus"}}catch(e){return console.log(e),{status:!1,message:e}}}async function o(e,a){let s=await r.default.profile.count({where:{profesi:e.toUpperCase(),unit:e.toUpperCase(),idFasyankes:a}});return console.log("Existing User:",s),s}(0,s(85723).ensureServerEntryExports)([n,i,o]),(0,t.registerServerReference)("6f6780ab8affa6855328ffd3065653253c5c9a49",n),(0,t.registerServerReference)("dff75fe81ed5d1b5691dac5df87cb8469fb8bb99",i),(0,t.registerServerReference)("8ef90cebf788b1b27efdf909ff799073217886df",o)},20439:(e,a,s)=>{"use strict";s.d(a,{default:()=>r});var t=s(53524);let r=globalThis.prismaGlobal??new t.PrismaClient},73475:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});var t=s(53524);let r=globalThis.prismaGlobal??new t.PrismaClient}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,5819,3838,2857,2481,7396,5606,4723,3118,362,207,2121],()=>s(2903));module.exports=t})();